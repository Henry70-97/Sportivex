<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="SportiveX - Test your football knowledge, analyze games, and earn recognition through trivia, article writing, and video analysis tasks.">
  <title>SportiveX - Football Knowledge Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&amp;family=Rajdhani:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body { box-sizing: border-box; }
    * { font-family: 'Rajdhani', sans-serif; }
    .font-orbitron { font-family: 'Orbitron', sans-serif; }
    
    :root {
      --bg-primary: #0a0f1a;
      --bg-secondary: #111827;
      --text-primary: #ffffff;
      --accent-green: #10b981;
      --accent-gold: #f59e0b;
    }
    
    .dark {
      --bg-primary: #0a0f1a;
      --bg-secondary: #111827;
      --text-primary: #ffffff;
    }
    
    .light {
      --bg-primary: #f8fafc;
      --bg-secondary: #ffffff;
      --text-primary: #1e293b;
    }
    
    .gradient-border {
      background: linear-gradient(135deg, #10b981, #f59e0b, #ef4444, #8b5cf6);
      background-size: 300% 300%;
      animation: gradient-shift 4s ease infinite;
    }
    
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
      50% { box-shadow: 0 0 40px rgba(16, 185, 129, 0.6); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes slide-in-left {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slide-in-right {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes fade-in-up {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    .animate-slide-left { animation: slide-in-left 0.5s ease-out forwards; }
    .animate-slide-right { animation: slide-in-right 0.5s ease-out forwards; }
    .animate-fade-up { animation: fade-in-up 0.6s ease-out forwards; }
    
    .card-emerald { background: linear-gradient(135deg, #064e3b 0%, #10b981 100%); }
    .card-amber { background: linear-gradient(135deg, #78350f 0%, #f59e0b 100%); }
    .card-rose { background: linear-gradient(135deg, #881337 0%, #f43f5e 100%); }
    .card-violet { background: linear-gradient(135deg, #4c1d95 0%, #8b5cf6 100%); }
    .card-cyan { background: linear-gradient(135deg, #164e63 0%, #06b6d4 100%); }
    .card-orange { background: linear-gradient(135deg, #7c2d12 0%, #f97316 100%); }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .video-border {
      position: fixed;
      z-index: 9999;
      pointer-events: none;
    }
    
    .video-border-top {
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
    }
    
    .main-content {
      margin-top: 60px;
    }
    
    @media (max-width: 768px) {
      .video-border-top { height: 40px; }
      .main-content { margin-top: 40px; }
    }
    
    .hamburger-menu {
      position: fixed;
      top: 70px;
      left: 20px;
      z-index: 1000;
    }
    
    @media (max-width: 768px) {
      .hamburger-menu { top: 50px; left: 15px; }
    }
    
    .sidebar {
      position: fixed;
      top: 60px;
      left: 0;
      bottom: 0;
      width: 280px;
      z-index: 999;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }
    
    .sidebar.open { transform: translateX(0); }
    
    @media (max-width: 768px) {
      .sidebar { top: 40px; width: 250px; }
    }
    
    .task-card:hover {
      transform: translateY(-5px) scale(1.02);
      transition: all 0.3s ease;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
    }
    
    .input-field {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .input-field:focus {
      border-color: #10b981;
      box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
      outline: none;
    }
    
    .light .input-field {
      background: rgba(0, 0, 0, 0.05);
      border-color: rgba(0, 0, 0, 0.2);
      color: #1e293b;
    }
    
    .light .glass-effect {
      background: rgba(255, 255, 255, 0.8);
      border-color: rgba(0, 0, 0, 0.1);
    }
    
    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ef4444;
      color: white;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 10px;
    }
    
    .progress-ring {
      transform: rotate(-90deg);
    }
    
    .toast {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10000;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      animation: fade-in-up 0.3s ease-out;
    }
    
    .toast-success { background: #10b981; color: white; }
    .toast-error { background: #ef4444; color: white; }
    
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 9998;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .word-counter {
      font-size: 12px;
      color: #9ca3af;
    }
    
    .word-counter.warning { color: #f59e0b; }
    .word-counter.error { color: #ef4444; }
    .word-counter.success { color: #10b981; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full dark bg-gray-900 text-white overflow-x-hidden"><!-- Video Border (Top Only) -->
  <div class="video-border video-border-top bg-black flex items-center justify-center">
   <video autoplay muted loop playsinline class="h-full w-full object-cover border border-emerald-500"><source src="video.mp4" type="video/mp4">
   </video>
  </div><!-- Background Audio -->
  <audio id="bgMusic" loop><source src="song.mp3" type="audio/mpeg">
  </audio><!-- Main Content Container -->
  <div class="main-content h-full overflow-y-auto" id="mainContent"><!-- Landing Page -->
   <div id="landingPage" class="min-h-full"><!-- Navigation -->
    <nav class="glass-effect sticky top-0 z-50 px-4 py-3">
     <div class="max-w-7xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3"><img src="logo.png" alt="SportiveX" class="h-10 w-10 object-contain" onerror="this.style.display='none'"> <span class="font-orbitron text-xl font-bold text-emerald-400" id="siteTitle">SportiveX</span>
      </div>
      <div class="flex items-center gap-4"><button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-white/10 transition">
        <svg id="themeIcon" class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg></button> <button onclick="toggleMusic()" class="p-2 rounded-full hover:bg-white/10 transition" id="musicBtn">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg></button> <button onclick="showPage('login')" class="px-4 py-2 text-emerald-400 hover:text-emerald-300 font-semibold transition">Login</button> <button onclick="showPage('register')" class="btn-primary px-6 py-2 rounded-full font-semibold text-white">Get Started</button>
      </div>
     </div>
    </nav><!-- Hero Section -->
    <section class="relative py-20 px-4 overflow-hidden">
     <div class="absolute inset-0 bg-gradient-to-br from-emerald-900/20 via-transparent to-amber-900/20"></div>
     <div class="max-w-6xl mx-auto text-center relative z-10">
      <div class="animate-float mb-8">
       <svg class="w-24 h-24 mx-auto text-emerald-400" viewbox="0 0 100 100" fill="currentColor"><circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="3" /> <circle cx="50" cy="50" r="8" fill="currentColor" /> <line x1="50" y1="5" x2="50" y2="95" stroke="currentColor" stroke-width="2" /> <path d="M5 50 Q 25 30, 50 50 Q 75 70, 95 50" fill="none" stroke="currentColor" stroke-width="2" />
       </svg>
      </div>
      <h1 class="font-orbitron text-4xl md:text-6xl font-black mb-6 bg-gradient-to-r from-emerald-400 via-amber-400 to-rose-400 bg-clip-text text-transparent" id="heroHeadline">Test Your Football Knowledge.<br>
       Analyze the Game.<br>
       Earn Recognition.</h1>
      <p class="text-xl text-gray-300 mb-10 max-w-3xl mx-auto">Join thousands of football enthusiasts completing trivia challenges, writing sports articles, and analyzing match footage. Earn points, build your reputation, and become a recognized football analyst.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center"><button onclick="showPage('register')" class="btn-primary px-10 py-4 rounded-full text-xl font-bold animate-pulse-glow"> ï¿½ï¿½ï¿½ï¿½ Get Started Free </button> <button onclick="showPage('login')" class="px-10 py-4 rounded-full text-xl font-bold border-2 border-emerald-400 text-emerald-400 hover:bg-emerald-400 hover:text-gray-900 transition"> Login </button>
      </div>
     </div>
    </section><!-- How It Works -->
    <section class="py-20 px-4 bg-black/30">
     <div class="max-w-6xl mx-auto">
      <h2 class="font-orbitron text-3xl md:text-4xl font-bold text-center mb-16 text-amber-400">How It Works</h2>
      <div class="grid md:grid-cols-3 gap-8">
       <div class="glass-effect rounded-2xl p-8 text-center animate-fade-up" style="animation-delay: 0.1s">
        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center text-4xl">
         1
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-4 text-emerald-400">Sign Up Free</h3>
        <p class="text-gray-400">Create your account in seconds and access a world of football challenges.</p>
       </div>
       <div class="glass-effect rounded-2xl p-8 text-center animate-fade-up" style="animation-delay: 0.2s">
        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-amber-500 to-amber-700 flex items-center justify-center text-4xl">
         2
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-4 text-amber-400">Complete Tasks</h3>
        <p class="text-gray-400">Take trivia quizzes, write articles, and analyze video clips at your own pace.</p>
       </div>
       <div class="glass-effect rounded-2xl p-8 text-center animate-fade-up" style="animation-delay: 0.3s">
        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-rose-500 to-rose-700 flex items-center justify-center text-4xl">
         3
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-4 text-rose-400">Earn Rewards</h3>
        <p class="text-gray-400">Get points for approved tasks and withdraw your earnings (KSH 129 = $1).</p>
       </div>
      </div>
     </div>
    </section><!-- Task Categories -->
    <section class="py-20 px-4">
     <div class="max-w-6xl mx-auto">
      <h2 class="font-orbitron text-3xl md:text-4xl font-bold text-center mb-16 text-emerald-400">Task Categories</h2>
      <div class="grid md:grid-cols-3 gap-8">
       <div class="card-emerald rounded-2xl p-8 task-card cursor-pointer" onclick="showPage('register')">
        <div class="text-5xl mb-6">
         ğŸ§ 
        </div>
        <h3 class="font-orbitron text-2xl font-bold mb-4">Trivia Tasks</h3>
        <p class="text-emerald-100 mb-4">Test your football knowledge with 20+ challenging quizzes covering history, players, and tactics.</p>
        <div class="flex items-center gap-2 text-emerald-200"><span class="px-3 py-1 bg-white/20 rounded-full text-sm">20+ Tasks</span> <span class="px-3 py-1 bg-white/20 rounded-full text-sm">Quick</span>
        </div>
       </div>
       <div class="card-amber rounded-2xl p-8 task-card cursor-pointer" onclick="showPage('register')">
        <div class="text-5xl mb-6">
         âœï¸
        </div>
        <h3 class="font-orbitron text-2xl font-bold mb-4">Article Writing</h3>
        <p class="text-amber-100 mb-4">Write match previews, player analyses, and tactical breakdowns. 20+ topics available.</p>
        <div class="flex items-center gap-2 text-amber-200"><span class="px-3 py-1 bg-white/20 rounded-full text-sm">20+ Tasks</span> <span class="px-3 py-1 bg-white/20 rounded-full text-sm">Creative</span>
        </div>
       </div>
       <div class="card-rose rounded-2xl p-8 task-card cursor-pointer" onclick="showPage('register')">
        <div class="text-5xl mb-6">
         ğŸ¬
        </div>
        <h3 class="font-orbitron text-2xl font-bold mb-4">Video Analysis</h3>
        <p class="text-rose-100 mb-4">Watch match clips and provide detailed tactical analysis. 20+ videos to analyze.</p>
        <div class="flex items-center gap-2 text-rose-200"><span class="px-3 py-1 bg-white/20 rounded-full text-sm">20+ Tasks</span> <span class="px-3 py-1 bg-white/20 rounded-full text-sm">Detailed</span>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Featured Challenges -->
    <section class="py-20 px-4 bg-black/30">
     <div class="max-w-6xl mx-auto">
      <h2 class="font-orbitron text-3xl md:text-4xl font-bold text-center mb-16 text-rose-400">Featured Challenges</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
       <div class="card-violet rounded-xl p-6 task-card">
        <div class="text-3xl mb-4">
         âš½
        </div>
        <h4 class="font-bold text-lg mb-2">Champions League Quiz</h4>
        <p class="text-sm text-violet-200">10 questions â€¢ Medium</p>
       </div>
       <div class="card-cyan rounded-xl p-6 task-card">
        <div class="text-3xl mb-4">
         ğŸ“
        </div>
        <h4 class="font-bold text-lg mb-2">El Clasico Preview</h4>
        <p class="text-sm text-cyan-200">500 words â€¢ High reward</p>
       </div>
       <div class="card-orange rounded-xl p-6 task-card">
        <div class="text-3xl mb-4">
         ğŸ¯
        </div>
        <h4 class="font-bold text-lg mb-2">Goal Analysis</h4>
        <p class="text-sm text-orange-200">Video â€¢ Tactical</p>
       </div>
       <div class="card-emerald rounded-xl p-6 task-card">
        <div class="text-3xl mb-4">
         ğŸ†
        </div>
        <h4 class="font-bold text-lg mb-2">World Cup History</h4>
        <p class="text-sm text-emerald-200">15 questions â€¢ Hard</p>
       </div>
      </div>
     </div>
    </section><!-- Testimonials -->
    <section class="py-20 px-4">
     <div class="max-w-6xl mx-auto">
      <h2 class="font-orbitron text-3xl md:text-4xl font-bold text-center mb-16 text-violet-400">What Users Say</h2>
      <div class="grid md:grid-cols-3 gap-8">
       <div class="glass-effect rounded-2xl p-8">
        <div class="flex items-center gap-4 mb-6">
         <div class="w-14 h-14 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-2xl">
          ï¿½ï¿½
         </div>
         <div>
          <h4 class="font-bold">James M.</h4>
          <p class="text-sm text-gray-400">Football Analyst</p>
         </div>
        </div>
        <p class="text-gray-300">"SportiveX helped me improve my tactical knowledge. The video analysis tasks are incredibly detailed and rewarding!"</p>
        <div class="flex mt-4 text-amber-400">
         â­â­â­â­â­
        </div>
       </div>
       <div class="glass-effect rounded-2xl p-8">
        <div class="flex items-center gap-4 mb-6">
         <div class="w-14 h-14 rounded-full bg-gradient-to-br from-rose-500 to-amber-500 flex items-center justify-center text-2xl">
          ğŸ‘¤
         </div>
         <div>
          <h4 class="font-bold">Sarah K.</h4>
          <p class="text-sm text-gray-400">Sports Writer</p>
         </div>
        </div>
        <p class="text-gray-300">"The article writing tasks are perfect for building my portfolio. I've earned over KSH 15,000 in just two months!"</p>
        <div class="flex mt-4 text-amber-400">
         â­â­â­â­â­
        </div>
       </div>
       <div class="glass-effect rounded-2xl p-8">
        <div class="flex items-center gap-4 mb-6">
         <div class="w-14 h-14 rounded-full bg-gradient-to-br from-violet-500 to-rose-500 flex items-center justify-center text-2xl">
          ğŸ‘¤
         </div>
         <div>
          <h4 class="font-bold">David O.</h4>
          <p class="text-sm text-gray-400">Trivia Champion</p>
         </div>
        </div>
        <p class="text-gray-300">"The trivia quizzes are addictive! I compete with friends and learn new football facts every day. Highly recommend!"</p>
        <div class="flex mt-4 text-amber-400">
         â­â­â­â­â­
        </div>
       </div>
      </div>
     </div>
    </section><!-- Footer -->
    <footer class="py-12 px-4 bg-black/50 border-t border-white/10">
     <div class="max-w-6xl mx-auto">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
       <div>
        <div class="flex items-center gap-3 mb-4"><img src="logo.png" alt="SportiveX" class="h-10 w-10" onerror="this.style.display='none'"> <span class="font-orbitron text-xl font-bold text-emerald-400">SportiveX</span>
        </div>
        <p class="text-gray-400 text-sm">The ultimate platform for football enthusiasts to test knowledge and earn rewards.</p>
       </div>
       <div>
        <h4 class="font-bold mb-4 text-white">Quick Links</h4>
        <ul class="space-y-2 text-gray-400">
         <li><a href="#" class="hover:text-emerald-400 transition">Home</a></li>
         <li><a href="#" class="hover:text-emerald-400 transition">Tasks</a></li>
         <li><a href="#" class="hover:text-emerald-400 transition">Leaderboard</a></li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-4 text-white">Legal</h4>
        <ul class="space-y-2 text-gray-400">
         <li><a href="#" class="hover:text-emerald-400 transition">Terms of Service</a></li>
         <li><a href="#" class="hover:text-emerald-400 transition">Privacy Policy</a></li>
         <li><a href="#" class="hover:text-emerald-400 transition">Cookie Policy</a></li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-4 text-white">Contact</h4>
        <ul class="space-y-2 text-gray-400">
         <li>ğŸ“§ eduscriptwriters@gmail.com</li>
         <li>ğŸŒ Global Platform</li>
        </ul>
       </div>
      </div>
      <div class="text-center text-gray-500 text-sm border-t border-white/10 pt-8">
       Â© 2024 SportiveX. All rights reserved.
      </div>
     </div>
    </footer>
   </div><!-- Registration Page -->
   <div id="registerPage" class="min-h-full hidden py-10 px-4">
    <div class="max-w-md mx-auto">
     <div class="text-center mb-8"><img src="logo.png" alt="SportiveX" class="h-16 w-16 mx-auto mb-4" onerror="this.style.display='none'">
      <h1 class="font-orbitron text-3xl font-bold text-emerald-400">Join SportiveX</h1>
      <p class="text-gray-400 mt-2">Create your account and start earning</p>
     </div>
     <form id="registerForm" class="glass-effect rounded-2xl p-8 space-y-6">
      <div><label for="regUsername" class="block text-sm font-semibold mb-2 text-gray-300">Username</label> <input type="text" id="regUsername" required class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Choose a username">
      </div>
      <div><label for="regEmail" class="block text-sm font-semibold mb-2 text-gray-300">Email Address</label> <input type="email" id="regEmail" required class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="your@email.com">
      </div>
      <div><label for="regPassword" class="block text-sm font-semibold mb-2 text-gray-300">Password</label> <input type="password" id="regPassword" required minlength="6" class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Min 6 characters">
      </div>
      <div><label for="regConfirmPassword" class="block text-sm font-semibold mb-2 text-gray-300">Confirm Password</label> <input type="password" id="regConfirmPassword" required class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Confirm your password">
      </div><button type="submit" class="btn-primary w-full py-4 rounded-xl font-bold text-lg text-white"> Create Account </button>
      <p class="text-center text-gray-400">Already have an account? <button type="button" onclick="showPage('login')" class="text-emerald-400 hover:underline">Login</button></p>
     </form><button onclick="showPage('landing')" class="mt-6 text-gray-400 hover:text-white transition flex items-center gap-2 mx-auto"> â† Back to Home </button>
    </div>
   </div><!-- Login Page -->
   <div id="loginPage" class="min-h-full hidden py-10 px-4">
    <div class="max-w-md mx-auto">
     <div class="text-center mb-8"><img src="logo.png" alt="SportiveX" class="h-16 w-16 mx-auto mb-4" onerror="this.style.display='none'">
      <h1 class="font-orbitron text-3xl font-bold text-emerald-400">Welcome Back</h1>
      <p class="text-gray-400 mt-2">Login to continue your journey</p>
     </div>
     <form id="loginForm" class="glass-effect rounded-2xl p-8 space-y-6">
      <div><label for="loginEmail" class="block text-sm font-semibold mb-2 text-gray-300">Email Address</label> <input type="email" id="loginEmail" required class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="your@email.com">
      </div>
      <div><label for="loginPassword" class="block text-sm font-semibold mb-2 text-gray-300">Password</label> <input type="password" id="loginPassword" required class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Your password">
      </div><button type="submit" class="btn-primary w-full py-4 rounded-xl font-bold text-lg text-white"> Login </button>
      <p class="text-center text-gray-400">Don't have an account? <button type="button" onclick="showPage('register')" class="text-emerald-400 hover:underline">Sign Up</button></p>
     </form><button onclick="showPage('landing')" class="mt-6 text-gray-400 hover:text-white transition flex items-center gap-2 mx-auto"> â† Back to Home </button>
    </div>
   </div><!-- Dashboard -->
   <div id="dashboardPage" class="min-h-full hidden"><!-- Hamburger Menu Button --> <button id="hamburgerBtn" onclick="toggleSidebar()" class="hamburger-menu p-3 rounded-xl glass-effect hover:bg-white/10 transition z-50">
     <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
     </svg></button> <!-- Sidebar -->
    <aside id="sidebar" class="sidebar glass-effect overflow-y-auto">
     <div class="p-6">
      <div class="flex items-center gap-3 mb-8"><img src="logo.png" alt="SportiveX" class="h-10 w-10" onerror="this.style.display='none'"> <span class="font-orbitron text-lg font-bold text-emerald-400">SportiveX</span>
      </div>
      <nav class="space-y-2"><button onclick="showDashboardSection('home')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ </span> Dashboard Home </button>
       <div class="pt-4 pb-2 px-4 text-xs text-gray-500 uppercase tracking-wider">
        Today's Tasks
       </div><button onclick="showDashboardSection('trivia')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ§ </span> Trivia Tasks </button> <button onclick="showDashboardSection('articles')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">âœï¸</span> Article Writing </button> <button onclick="showDashboardSection('videos')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ¬</span> Video Analysis </button>
       <div class="pt-4 pb-2 px-4 text-xs text-gray-500 uppercase tracking-wider">
        Account
       </div><button onclick="showDashboardSection('submissions')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ“‹</span> My Submissions </button> <button onclick="showDashboardSection('notifications')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left relative"> <span class="text-xl">ğŸ””</span> Notifications <span id="notifBadge" class="notification-badge">3</span> </button> <button onclick="showDashboardSection('wallet')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ’°</span> Wallet </button> <button onclick="showDashboardSection('withdraw')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ’¸</span> Withdraw </button> <button onclick="showDashboardSection('subscribe')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">â­</span> Subscribe </button> <button onclick="showDashboardSection('profile')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">ğŸ‘¤</span> Profile </button> <button onclick="showDashboardSection('help')" class="menu-item w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition text-left"> <span class="text-xl">â“</span> Help / Rules </button> <button onclick="logout()" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-rose-500/20 text-rose-400 transition text-left mt-4"> <span class="text-xl">ğŸšª</span> Logout </button>
      </nav>
     </div>
    </aside><!-- Sidebar Overlay -->
    <div id="sidebarOverlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black/50 z-40 hidden"></div><!-- Dashboard Content -->
    <div class="pt-4 px-4 pb-8"><!-- Top Bar -->
     <div class="flex items-center justify-between mb-8 ml-16">
      <div>
       <h1 class="font-orbitron text-2xl font-bold" id="dashboardTitle">Dashboard</h1>
       <p class="text-gray-400 text-sm" id="dashboardSubtitle">Welcome back!</p>
      </div>
      <div class="flex items-center gap-4"><button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-white/10 transition">
        <svg id="themeIconDash" class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg></button>
       <div class="flex items-center gap-2 glass-effect px-4 py-2 rounded-full"><span class="text-amber-400">ğŸ’°</span> <span class="font-bold" id="headerPoints">0</span> <span class="text-gray-400 text-sm">pts</span>
       </div>
      </div>
     </div><!-- Dashboard Sections Container -->
     <div id="dashboardContent" class="ml-0 md:ml-16"><!-- Home Section -->
      <section id="homeSection" class="dashboard-section">
       <div class="mb-8">
        <h2 class="font-orbitron text-xl font-bold mb-2">Welcome, <span id="welcomeUsername">User</span>! ğŸ‘‹</h2>
        <p class="text-gray-400">Ready to test your football knowledge today?</p>
       </div><!-- Stats Cards -->
       <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <div class="card-emerald rounded-2xl p-6 text-center">
         <div class="text-3xl mb-2">
          âœ…
         </div>
         <div class="text-3xl font-bold" id="statsCompleted">
          0
         </div>
         <div class="text-emerald-200 text-sm">
          Tasks Completed
         </div>
        </div>
        <div class="card-amber rounded-2xl p-6 text-center">
         <div class="text-3xl mb-2">
          â³
         </div>
         <div class="text-3xl font-bold" id="statsPending">
          0
         </div>
         <div class="text-amber-200 text-sm">
          Pending Reviews
         </div>
        </div>
        <div class="card-violet rounded-2xl p-6 text-center">
         <div class="text-3xl mb-2">
          ğŸ†
         </div>
         <div class="text-3xl font-bold" id="statsPoints">
          0
         </div>
         <div class="text-violet-200 text-sm">
          Total Points
         </div>
        </div>
        <div class="card-rose rounded-2xl p-6 text-center">
         <div class="text-3xl mb-2">
          ğŸ“Š
         </div>
         <div class="text-3xl font-bold" id="statsLevel">
          1
         </div>
         <div class="text-rose-200 text-sm">
          Skill Level
         </div>
        </div>
       </div><!-- Quick Actions -->
       <div class="glass-effect rounded-2xl p-6 mb-8">
        <h3 class="font-orbitron text-lg font-bold mb-4">Quick Start</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><button onclick="showDashboardSection('trivia')" class="btn-primary py-4 rounded-xl font-semibold flex items-center justify-center gap-2"> ğŸ§  Start Trivia </button> <button onclick="showDashboardSection('articles')" class="bg-amber-500 hover:bg-amber-600 py-4 rounded-xl font-semibold flex items-center justify-center gap-2 transition"> âœï¸ Write Article </button> <button onclick="showDashboardSection('videos')" class="bg-rose-500 hover:bg-rose-600 py-4 rounded-xl font-semibold flex items-center justify-center gap-2 transition"> ğŸ¬ Analyze Video </button>
        </div>
       </div><!-- Recent Activity -->
       <div class="glass-effect rounded-2xl p-6">
        <h3 class="font-orbitron text-lg font-bold mb-4">Recent Activity</h3>
        <div id="recentActivity" class="space-y-3">
         <p class="text-gray-400 text-center py-8">No recent activity. Start a task to begin!</p>
        </div>
       </div>
      </section><!-- Trivia Section -->
      <section id="triviaSection" class="dashboard-section hidden">
       <div class="flex items-center justify-between mb-6">
        <h2 class="font-orbitron text-2xl font-bold text-emerald-400">ğŸ§  Trivia Tasks</h2>
        <div class="flex gap-2"><button onclick="filterTrivia('all')" class="px-4 py-2 rounded-full bg-emerald-500/20 text-emerald-400 text-sm font-semibold">All</button> <button onclick="filterTrivia('easy')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Easy</button> <button onclick="filterTrivia('medium')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Medium</button> <button onclick="filterTrivia('hard')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Hard</button>
        </div>
       </div>
       <div id="triviaList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"><!-- Trivia cards will be generated here -->
       </div>
       <div id="triviaLocked" class="hidden col-span-full">
        <div class="glass-effect rounded-2xl p-8 text-center">
         <div class="text-6xl mb-4">
          ğŸ”’
         </div>
         <h3 class="font-orbitron text-2xl font-bold mb-3">Premium Feature</h3>
         <p class="text-gray-400 mb-6">Unlock all trivia tasks with a Premium Membership. Start earning points today!</p><button onclick="showDashboardSection('subscribe')" class="btn-primary px-8 py-3 rounded-xl font-bold"> â­ Subscribe Now (KSH 458/yearly) </button>
        </div>
       </div>
      </section><!-- Trivia Details Modal -->
      <section id="triviaDetailsSection" class="dashboard-section hidden">
       <div class="max-w-3xl mx-auto"><button onclick="showDashboardSection('trivia')" class="mb-4 text-gray-400 hover:text-white flex items-center gap-2"> â† Back to Trivia </button>
        <div class="glass-effect rounded-2xl p-8">
         <h3 class="font-orbitron text-2xl font-bold mb-2" id="detailsTitle">Quiz Title</h3>
         <div class="flex items-center gap-4 mb-6 pb-6 border-b border-white/10"><span id="detailsDifficulty" class="px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded-full text-sm font-semibold">Easy</span> <span class="text-amber-400 font-bold" id="detailsPoints">ğŸ† 50 pts</span> <span class="text-gray-400" id="detailsCategory">Category</span>
         </div>
         <div id="detailedQuestions" class="space-y-6"><!-- Questions will be rendered here -->
         </div><button onclick="startQuiz(currentTriviaId)" class="btn-primary w-full py-4 rounded-xl font-bold text-lg mt-8">Start Quiz</button>
        </div>
       </div>
      </section><!-- Active Trivia Quiz -->
      <section id="triviaQuizSection" class="dashboard-section hidden">
       <div class="max-w-2xl mx-auto">
        <div class="glass-effect rounded-2xl p-8">
         <div class="flex items-center justify-between mb-6">
          <h3 class="font-orbitron text-xl font-bold" id="quizTitle">Quiz</h3>
          <div class="flex items-center gap-4">
           <div class="text-amber-400 font-bold" id="quizTimer">
            â±ï¸ 30s
           </div>
           <div class="text-gray-400" id="quizProgress">
            1/10
           </div>
          </div>
         </div>
         <div id="quizQuestion" class="text-xl mb-6"></div>
         <div id="quizOptions" class="space-y-3"></div>
         <div id="quizFeedback" class="mt-6 p-4 rounded-xl hidden"></div>
         <div id="quizComplete" class="hidden text-center py-8">
          <div class="text-6xl mb-4">
           ğŸ‰
          </div>
          <h3 class="font-orbitron text-2xl font-bold mb-2">Quiz Complete!</h3>
          <p class="text-gray-400 mb-4">Your Score: <span id="finalScore" class="text-emerald-400 font-bold">0</span>/10</p><button onclick="showDashboardSection('trivia')" class="btn-primary px-8 py-3 rounded-xl font-semibold">Back to Trivia</button>
         </div>
        </div>
       </div>
      </section><!-- Articles Section -->
      <section id="articlesSection" class="dashboard-section hidden">
       <div class="flex items-center justify-between mb-6">
        <h2 class="font-orbitron text-2xl font-bold text-amber-400">âœï¸ Article Writing Tasks</h2>
       </div>
       <div id="articlesList" class="grid md:grid-cols-2 gap-4"><!-- Article cards will be generated here -->
       </div>
       <div id="articlesLocked" class="hidden col-span-full">
        <div class="glass-effect rounded-2xl p-8 text-center">
         <div class="text-6xl mb-4">
          ğŸ”’
         </div>
         <h3 class="font-orbitron text-2xl font-bold mb-3">Premium Feature</h3>
         <p class="text-gray-400 mb-6">Unlock all article writing tasks with a Premium Membership. Start earning points today!</p><button onclick="showDashboardSection('subscribe')" class="btn-primary px-8 py-3 rounded-xl font-bold"> â­ Subscribe Now (KSH 458/yearly) </button>
        </div>
       </div>
      </section><!-- Article Editor -->
      <section id="articleEditorSection" class="dashboard-section hidden">
       <div class="max-w-3xl mx-auto"><button onclick="showDashboardSection('articles')" class="mb-4 text-gray-400 hover:text-white flex items-center gap-2"> â† Back to Articles </button>
        <div class="glass-effect rounded-2xl p-8">
         <h3 class="font-orbitron text-xl font-bold mb-2" id="articleTitle">Article Title</h3>
         <p class="text-gray-400 mb-6" id="articleInstructions">Instructions will appear here...</p>
         <div class="mb-4"><label for="articleEditor" class="block text-sm font-semibold mb-2">Your Article</label> <textarea id="articleEditor" class="input-field w-full h-64 px-4 py-3 rounded-xl text-white resize-none" placeholder="Start writing your article here..."></textarea>
          <div class="flex justify-between mt-2"><span id="wordCount" class="word-counter">0 words</span> <span id="wordRequirement" class="text-gray-400 text-sm">Required: 300-500 words</span>
          </div>
         </div><button onclick="submitArticle()" class="btn-primary w-full py-4 rounded-xl font-bold text-lg">Submit Article</button>
        </div>
       </div>
      </section><!-- Videos Section -->
      <section id="videosSection" class="dashboard-section hidden">
       <div class="flex items-center justify-between mb-6">
        <h2 class="font-orbitron text-2xl font-bold text-rose-400">ğŸ¬ Video Analysis Tasks</h2>
       </div>
       <div id="videosList" class="grid md:grid-cols-2 gap-4"><!-- Video cards will be generated here -->
       </div>
       <div id="videosLocked" class="hidden col-span-full">
        <div class="glass-effect rounded-2xl p-8 text-center">
         <div class="text-6xl mb-4">
          ğŸ”’
         </div>
         <h3 class="font-orbitron text-2xl font-bold mb-3">Premium Feature</h3>
         <p class="text-gray-400 mb-6">Unlock all video analysis tasks with a Premium Membership. Start earning points today!</p><button onclick="showDashboardSection('subscribe')" class="btn-primary px-8 py-3 rounded-xl font-bold"> â­ Subscribe Now (KSH 458/yearly) </button>
        </div>
       </div>
      </section><!-- Video Analysis Editor -->
      <section id="videoAnalysisSection" class="dashboard-section hidden">
       <div class="max-w-3xl mx-auto"><button onclick="showDashboardSection('videos')" class="mb-4 text-gray-400 hover:text-white flex items-center gap-2"> â† Back to Videos </button>
        <div class="glass-effect rounded-2xl p-8">
         <h3 class="font-orbitron text-xl font-bold mb-4" id="videoTitle">Video Analysis</h3>
         <div class="aspect-video bg-black rounded-xl mb-6 overflow-hidden"><iframe id="analysisVideo" class="w-full h-full" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
         </div>
         <div id="videoInstructions" class="mb-6 p-4 bg-white/5 rounded-xl">
          <p class="text-gray-300">Watch the video and answer the questions below.</p>
         </div>
         <div id="videoQuestions" class="space-y-6"><!-- Questions will be generated here -->
         </div><button onclick="submitVideoAnalysis()" class="btn-primary w-full py-4 rounded-xl font-bold text-lg mt-6">Submit Analysis</button>
        </div>
       </div>
      </section><!-- Submissions Section -->
      <section id="submissionsSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ğŸ“‹ My Submissions</h2>
       <div class="flex gap-2 mb-6"><button onclick="filterSubmissions('all')" class="px-4 py-2 rounded-full bg-emerald-500/20 text-emerald-400 text-sm font-semibold">All</button> <button onclick="filterSubmissions('submitted')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Submitted</button> <button onclick="filterSubmissions('review')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Under Review</button> <button onclick="filterSubmissions('approved')" class="px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm">Approved</button>
       </div>
       <div id="submissionsList" class="space-y-4">
        <p class="text-gray-400 text-center py-8">No submissions yet. Complete some tasks to see them here!</p>
       </div>
      </section><!-- Notifications Section -->
      <section id="notificationsSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ğŸ”” Notifications</h2>
       <div id="notificationsList" class="space-y-4">
        <div class="glass-effect rounded-xl p-4 border-l-4 border-emerald-500">
         <div class="flex items-start gap-4"><span class="text-2xl">ğŸ‰</span>
          <div>
           <h4 class="font-bold">Welcome to SportiveX!</h4>
           <p class="text-gray-400 text-sm">Start completing tasks to earn points and rewards.</p><span class="text-xs text-gray-500">Just now</span>
          </div>
         </div>
        </div>
        <div class="glass-effect rounded-xl p-4 border-l-4 border-amber-500">
         <div class="flex items-start gap-4"><span class="text-2xl">ğŸ’¡</span>
          <div>
           <h4 class="font-bold">New Tasks Available</h4>
           <p class="text-gray-400 text-sm">20 new trivia questions have been added!</p><span class="text-xs text-gray-500">1 hour ago</span>
          </div>
         </div>
        </div>
        <div class="glass-effect rounded-xl p-4 border-l-4 border-violet-500">
         <div class="flex items-start gap-4"><span class="text-2xl">ğŸ†</span>
          <div>
           <h4 class="font-bold">Daily Challenge</h4>
           <p class="text-gray-400 text-sm">Complete 3 tasks today for bonus points!</p><span class="text-xs text-gray-500">2 hours ago</span>
          </div>
         </div>
        </div>
       </div>
      </section><!-- Wallet Section -->
      <section id="walletSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ğŸ’° Wallet</h2>
       <div class="grid md:grid-cols-2 gap-6 mb-8">
        <div class="card-emerald rounded-2xl p-8">
         <h3 class="text-lg mb-2 text-emerald-200">Available Balance</h3>
         <div class="text-4xl font-bold mb-2" id="walletBalance">
          0
         </div>
         <p class="text-emerald-200">Points</p>
        </div>
        <div class="card-amber rounded-2xl p-8">
         <h3 class="text-lg mb-2 text-amber-200">Equivalent in KSH</h3>
         <div class="text-4xl font-bold mb-2" id="walletKSH">
          KSH 0
         </div>
         <p class="text-amber-200">Rate: 1 point = KSH 1.29</p>
        </div>
       </div>
       <div class="glass-effect rounded-2xl p-6">
        <h3 class="font-orbitron text-lg font-bold mb-4">Transaction History</h3>
        <div id="transactionHistory" class="space-y-3">
         <p class="text-gray-400 text-center py-4">No transactions yet.</p>
        </div>
       </div>
      </section><!-- Withdraw Section -->
      <section id="withdrawSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ğŸ’¸ Withdraw Funds</h2>
       <div class="max-w-xl mx-auto">
        <div class="glass-effect rounded-2xl p-8">
         <div class="mb-6 p-4 bg-amber-500/20 rounded-xl border border-amber-500/50">
          <p class="text-amber-200">ğŸ’¡ Minimum withdrawal: 100 points (KSH 2,000)</p>
          <p class="text-amber-200 text-sm mt-1">Conversion Rate: 1 point = KSH 20</p>
          <p class="text-amber-200 text-sm mt-2">Fees: Platform 5% + Transaction 10% = 15% total</p>
         </div>
         <form id="withdrawForm" class="space-y-6">
          <div><label for="withdrawAmount" class="block text-sm font-semibold mb-2">Amount (Points)</label> <input type="number" id="withdrawAmount" min="1000" class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Enter amount">
           <p class="text-sm text-gray-400 mt-1">Available: <span id="availableWithdraw">0</span> points</p>
          </div>
          <div><label for="withdrawMethod" class="block text-sm font-semibold mb-2">Withdrawal Method</label> <select id="withdrawMethod" class="input-field w-full px-4 py-3 rounded-xl text-white bg-transparent"> <option value="mpesa">M-Pesa</option> <option value="bank">Bank Transfer</option> <option value="paypal">PayPal</option> </select>
          </div>
          <div><label for="withdrawDetails" class="block text-sm font-semibold mb-2">Account Details</label> <input type="text" id="withdrawDetails" class="input-field w-full px-4 py-3 rounded-xl text-white" placeholder="Phone number / Account number / Email">
          </div><button type="submit" class="btn-primary w-full py-4 rounded-xl font-bold text-lg">Request Withdrawal</button>
         </form>
        </div>
       </div>
      </section><!-- Subscribe Section -->
      <section id="subscribeSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">â­ Premium Membership</h2>
       <div class="max-w-2xl mx-auto">
        <div class="card-emerald rounded-2xl p-10">
         <h3 class="font-orbitron text-3xl font-bold mb-6 text-emerald-100">Premium Access</h3>
         <div class="mb-8">
          <div class="text-5xl font-bold mb-2">
           KSH 458<span class="text-2xl text-emerald-200">/yearly</span>
          </div>
          <p class="text-emerald-100 text-lg">Unlimited access to all tasks &amp; priority rewards</p>
         </div>
         <div class="mb-10 p-6 bg-white/10 rounded-xl">
          <h4 class="font-bold mb-4 text-emerald-100">âœ¨ Premium Benefits:</h4>
          <ul class="space-y-3 text-emerald-100">
           <li class="flex items-center gap-3"><span class="text-2xl">ğŸ¯</span> <span><strong>Unlimited Tasks:</strong> Access all trivia quizzes, article writing, and video analysis tasks without daily limits</span></li>
           <li class="flex items-center gap-3"><span class="text-2xl">âš¡</span> <span><strong>Priority Review:</strong> Your submissions get reviewed within 24 hours instead of 72 hours</span></li>
           <li class="flex items-center gap-3"><span class="text-2xl">ğŸ’°</span> <span><strong>Bonus Points:</strong> Earn 15% bonus points on all completed tasks</span></li>
           <li class="flex items-center gap-3"><span class="text-2xl">ğŸš€</span> <span><strong>Faster Payouts:</strong> Withdraw your earnings with zero platform fees (normally 5%)</span></li>
           <li class="flex items-center gap-3"><span class="text-2xl">ğŸ“Š</span> <span><strong>Exclusive Analytics:</strong> Track your performance with detailed stats and improvement tips</span></li>
           <li class="flex items-center gap-3"><span class="text-2xl">ğŸ†</span> <span><strong>VIP Support:</strong> Get priority help from our support team via email and chat</span></li>
          </ul>
         </div>
         <div class="mb-8 p-4 bg-emerald-900/30 border border-emerald-500/50 rounded-xl">
          <p class="text-sm text-emerald-100">ğŸ’¡ <strong>After subscribing:</strong> You'll unlock all tasks and can start earning immediately! Your subscription lasts for 30 days from activation.</p>
         </div><!-- Subscribe Payment -->
         <div id="subscriptionPayment" class="space-y-4"><button onclick="redirectToPayment()" class="btn-primary w-full py-4 rounded-xl font-bold text-lg text-white flex items-center justify-center gap-2 hover:scale-105 transition"> ğŸ“± Subscribe Now via M-Pesa </button> <button onclick="showMpesaVerification()" class="w-full py-3 rounded-xl border-2 border-emerald-400 text-emerald-400 font-bold hover:bg-emerald-400/10 transition"> âœ“ Already Paid? Verify Here </button>
         </div>
        </div>
       </div><!-- M-Pesa Verification Modal -->
       <div id="mpesaVerificationModal" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-8 max-w-xl w-full max-h-[90vh] overflow-y-auto">
         <h3 class="font-orbitron text-2xl font-bold mb-4 text-emerald-400">Verify M-Pesa Payment</h3>
         <div class="mb-6 p-4 bg-amber-500/20 border border-amber-500 rounded-xl">
          <p class="text-sm text-amber-200">ğŸ“Œ <strong>How to get your M-Pesa message:</strong></p>
          <ol class="text-sm text-amber-200 mt-2 space-y-1 ml-4">
           <li>1. Send <strong>458</strong> to M-Pesa</li>
           <li>2. Enter business code <strong>174379</strong></li>
           <li>3. You'll get a confirmation message</li>
           <li>4. Copy the entire message below</li>
          </ol>
         </div>
         <div class="mb-6 space-y-4">
          <div><label class="block text-sm font-semibold mb-2">Expected Payment Details:</label>
           <div class="p-3 bg-white/5 rounded-xl text-sm text-gray-300">
            <p>ğŸ’° Amount: KSH 458</p>
            <p>ğŸ¢ Recipient: Lipana Technologies Limited</p>
            <p>ğŸ“… Date: <span id="expectedDate"></span></p>
           </div>
          </div>
          <div><label for="mpesaMessage" class="block text-sm font-semibold mb-2">Paste M-Pesa Message Here:</label> <textarea id="mpesaMessage" class="input-field w-full h-32 px-4 py-3 rounded-xl text-white resize-none" placeholder="Example: CONFIRMED on 15/1/25 at 2:45 PM You received KSH 458 from LIPA NA M-PESA ONLINE. New M-Pesa balance is KSH 5,542.00"></textarea>
           <p class="text-xs text-gray-400 mt-1">Paste exactly as you receive it from M-Pesa</p>
          </div>
         </div>
         <div class="flex gap-3"><button onclick="verifyMpesaPayment()" id="verifyBtn" class="btn-primary flex-1 py-3 rounded-xl font-bold"> âœ“ Verify Payment </button> <button onclick="closeMpesaVerification()" class="flex-1 py-3 rounded-xl border border-gray-600 text-gray-400 font-bold hover:bg-white/10 transition"> Cancel </button>
         </div>
        </div>
       </div>
      </section><!-- Profile Section -->
      <section id="profileSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ğŸ‘¤ Profile</h2>
       <div class="max-w-2xl mx-auto">
        <div class="glass-effect rounded-2xl p-8">
         <div class="flex items-center gap-6 mb-8">
          <div class="w-24 h-24 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center text-4xl">
           ğŸ‘¤
          </div>
          <div>
           <h3 class="font-orbitron text-2xl font-bold" id="profileUsername">Username</h3>
           <p class="text-gray-400" id="profileEmail">email@example.com</p>
           <div class="flex items-center gap-2 mt-2"><span class="px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded-full text-sm">Level <span id="profileLevel">1</span></span> <span class="px-3 py-1 bg-amber-500/20 text-amber-400 rounded-full text-sm"><span id="profilePoints">0</span> Points</span>
           </div>
          </div>
         </div>
         <form id="profileForm" class="space-y-6">
          <div><label for="profileBio" class="block text-sm font-semibold mb-2">Bio</label> <textarea id="profileBio" class="input-field w-full h-24 px-4 py-3 rounded-xl text-white resize-none" placeholder="Tell us about yourself..."></textarea>
          </div>
          <div class="grid grid-cols-2 gap-4">
           <div><label class="block text-sm font-semibold mb-2">Tasks Completed</label>
            <div class="input-field px-4 py-3 rounded-xl" id="profileTasksCompleted">
             0
            </div>
           </div>
           <div><label class="block text-sm font-semibold mb-2">Member Since</label>
            <div class="input-field px-4 py-3 rounded-xl" id="profileMemberSince">
             Today
            </div>
           </div>
          </div><button type="submit" class="btn-primary w-full py-4 rounded-xl font-bold">Save Profile</button>
         </form>
        </div>
       </div>
      </section><!-- Help Section -->
      <section id="helpSection" class="dashboard-section hidden">
       <h2 class="font-orbitron text-2xl font-bold mb-6">ï¿½ï¿½ï¿½ Help &amp; Rules</h2>
       <div class="max-w-3xl mx-auto space-y-6">
        <div class="glass-effect rounded-2xl p-6">
         <h3 class="font-orbitron text-lg font-bold mb-4 text-emerald-400">ğŸ¯ How Points Work</h3>
         <ul class="space-y-2 text-gray-300">
          <li>â€¢ Trivia Task: 10-50 points per quiz (based on score)</li>
          <li>â€¢ Article Writing: 50-200 points per approved article</li>
          <li>â€¢ Video Analysis: 30-100 points per analysis</li>
          <li>â€¢ Conversion Rate: $1 = KSH 129 = 100 points</li>
         </ul>
        </div>
        <div class="glass-effect rounded-2xl p-6">
         <h3 class="font-orbitron text-lg font-bold mb-4 text-amber-400">ğŸ“‹ Task Guidelines</h3>
         <ul class="space-y-2 text-gray-300">
          <li>â€¢ Complete tasks honestly and thoroughly</li>
          <li>â€¢ No plagiarism in article writing</li>
          <li>â€¢ Watch full videos before analysis</li>
          <li>â€¢ Meet word count requirements</li>
         </ul>
        </div>
        <div class="glass-effect rounded-2xl p-6">
         <h3 class="font-orbitron text-lg font-bold mb-4 text-rose-400">ğŸ’° Withdrawal Rules</h3>
         <ul class="space-y-2 text-gray-300">
          <li>â€¢ Minimum withdrawal: 1000 points</li>
          <li>â€¢ Processing time: 24-48 hours</li>
          <li>â€¢ Available methods: M-Pesa, Bank, PayPal</li>
         </ul>
        </div>
        <div class="glass-effect rounded-2xl p-6">
         <h3 class="font-orbitron text-lg font-bold mb-4 text-violet-400">ğŸ“§ Contact Support</h3>
         <p class="text-gray-300 mb-4">Need help? Reach out to us:</p><a href="mailto:eduscriptwriters@gmail.com" class="text-emerald-400 hover:underline">eduscriptwriters@gmail.com</a>
        </div>
       </div>
      </section>
     </div>
    </div>
   </div>
  </div><!-- Toast Container -->
  <div id="toastContainer"></div>
  <script>
    // ==================== CONFIGURATION ====================
    const defaultConfig = {
      site_title: 'SportiveX',
      hero_headline: 'Test Your Football Knowledge. Analyze the Game. Earn Recognition.',
      subscription_fee: 458,
      payment_link: 'https://lipana.dev/pay/joblify-account-verification '
    };
    
    let config = { ...defaultConfig };
    
    // ==================== ELEMENT SDK INIT ====================
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (newConfig) => {
          config = { ...config, ...newConfig };
          document.getElementById('siteTitle').textContent = config.site_title || defaultConfig.site_title;
          document.getElementById('heroHeadline').innerHTML = (config.hero_headline || defaultConfig.hero_headline).replace(/\./g, '.<br>');
          paymentLink = config.payment_link || defaultConfig.payment_link;
        },
        mapToCapabilities: (cfg) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['site_title', cfg.site_title || defaultConfig.site_title],
          ['hero_headline', cfg.hero_headline || defaultConfig.hero_headline],
          ['subscription_fee', cfg.subscription_fee || defaultConfig.subscription_fee],
          ['payment_link', cfg.payment_link || defaultConfig.payment_link]
        ])
      });
    }
    
    // ==================== STATE MANAGEMENT ====================
    let currentUser = null;
    let sidebarOpen = false;
    let darkMode = true;
    let musicPlaying = false;
    let currentQuiz = null;
    let quizTimer = null;
    let currentArticle = null;
    let currentVideo = null;
    let paymentLink = 'https://lipana.dev/pay/joblify-account-verification '; // Default payment link - update in config
    
    // ==================== TRIVIA DATA ====================
    // Conversion: 1 point = KSH 50
    const triviaQuizzes = [
      { id: 1, title: 'Champions League Legends', difficulty: 'hard', questions: 10, points: 50, category: 'History', icon: 'ğŸ†' },
      { id: 2, title: 'Premier League Basics', difficulty: 'easy', questions: 10, points: 20, category: 'League', icon: 'ğŸ¦' },
      { id: 3, title: 'World Cup Winners', difficulty: 'medium', questions: 10, points: 35, category: 'History', icon: 'ğŸŒ' },
      { id: 4, title: 'Transfer Records', difficulty: 'hard', questions: 10, points: 50, category: 'Facts', icon: 'ğŸ’°' },
      { id: 5, title: 'La Liga Stars', difficulty: 'medium', questions: 10, points: 35, category: 'League', icon: 'â­' },
      { id: 6, title: 'Bundesliga Knowledge', difficulty: 'easy', questions: 10, points: 20, category: 'League', icon: 'ğŸ‡©ğŸ‡ª' },
      { id: 7, title: 'Serie A Classics', difficulty: 'medium', questions: 10, points: 35, category: 'League', icon: 'ğŸ‡®ğŸ‡¹' },
      { id: 8, title: 'Ballon d\'Or History', difficulty: 'hard', questions: 10, points: 50, category: 'Awards', icon: 'ğŸ–ï¸' },
      { id: 9, title: 'Euro Championship', difficulty: 'medium', questions: 10, points: 35, category: 'History', icon: 'ğŸ‡ªğŸ‡º' },
      { id: 10, title: 'African Football', difficulty: 'easy', questions: 10, points: 20, category: 'International', icon: 'ğŸŒ' },
      { id: 11, title: 'Copa America Trivia', difficulty: 'medium', questions: 10, points: 35, category: 'History', icon: 'ğŸ†' },
      { id: 12, title: 'Stadium Quiz', difficulty: 'easy', questions: 10, points: 20, category: 'Facts', icon: 'ğŸŸï¸' },
      { id: 13, title: 'Legendary Goalkeepers', difficulty: 'hard', questions: 10, points: 50, category: 'Players', icon: 'ğŸ§¤' },
      { id: 14, title: 'Hat-trick Heroes', difficulty: 'medium', questions: 10, points: 35, category: 'Stats', icon: 'âš½' },
      { id: 15, title: 'Manager Masterclass', difficulty: 'hard', questions: 10, points: 50, category: 'Tactics', icon: 'ï¿½ï¿½' },
      { id: 16, title: 'Youth Academy Stars', difficulty: 'easy', questions: 10, points: 20, category: 'Players', icon: 'ğŸŒŸ' },
      { id: 17, title: 'Derby Day Special', difficulty: 'medium', questions: 10, points: 35, category: 'History', icon: 'ğŸ”¥' },
      { id: 18, title: 'Golden Boot Winners', difficulty: 'medium', questions: 10, points: 35, category: 'Awards', icon: 'ğŸ‘Ÿ' },
      { id: 19, title: 'Penalty Specialists', difficulty: 'easy', questions: 10, points: 20, category: 'Stats', icon: 'ğŸ¯' },
      { id: 20, title: 'Football Rules Quiz', difficulty: 'hard', questions: 10, points: 50, category: 'Rules', icon: 'ğŸ“–' }
    ];
    
    const triviaQuestions = {
      1: [
        { q: 'Who has won the most Champions League titles as a player?', options: ['Cristiano Ronaldo', 'Paco Gento', 'Lionel Messi', 'Paolo Maldini'], correct: 1 },
        { q: 'Which club has won the most Champions League titles?', options: ['AC Milan', 'Real Madrid', 'Barcelona', 'Bayern Munich'], correct: 1 },
        { q: 'Who scored the fastest hat-trick in Champions League history?', options: ['Robert Lewandowski', 'BafÃ©timbi Gomis', 'Cristiano Ronaldo', 'Lionel Messi'], correct: 1 },
        { q: 'In which year was the Champions League rebranded from European Cup?', options: ['1990', '1991', '1992', '1993'], correct: 2 },
        { q: 'Who is the all-time top scorer in Champions League history?', options: ['Lionel Messi', 'Cristiano Ronaldo', 'Raul', 'Karim Benzema'], correct: 1 },
        { q: 'Which team won the treble in 2009?', options: ['Manchester United', 'Barcelona', 'Inter Milan', 'Bayern Munich'], correct: 1 },
        { q: 'Who scored the winning goal in the 2005 final?', options: ['Steven Gerrard', 'No one (Penalties)', 'Jerzy Dudek', 'Xabi Alonso'], correct: 1 },
        { q: 'Which English team won back-to-back European Cups in 1979 and 1980?', options: ['Liverpool', 'Nottingham Forest', 'Manchester United', 'Aston Villa'], correct: 0 },
        { q: 'Who has made the most Champions League appearances?', options: ['Cristiano Ronaldo', 'Iker Casillas', 'Xavi Hernandez', 'Lionel Messi'], correct: 0 },
        { q: 'Which stadium hosted the first Champions League final?', options: ['San Siro', 'Wembley', 'Camp Nou', 'Parc des Princes'], correct: 1 }
      ],
      2: [
        { q: 'How many teams compete in the Premier League?', options: ['18', '20', '22', '24'], correct: 1 },
        { q: 'Which team has won the most Premier League titles?', options: ['Chelsea', 'Manchester City', 'Manchester United', 'Arsenal'], correct: 2 },
        { q: 'When did the Premier League start?', options: ['1990', '1991', '1992', '1993'], correct: 2 },
        { q: 'Who is the Premier League\'s all-time top scorer?', options: ['Wayne Rooney', 'Alan Shearer', 'Harry Kane', 'Sergio Aguero'], correct: 1 },
        { q: 'Which team went unbeaten for an entire Premier League season?', options: ['Chelsea', 'Manchester United', 'Arsenal', 'Liverpool'], correct: 2 },
        { q: 'How many points does a team get for a win?', options: ['1', '2', '3', '4'], correct: 2 },
        { q: 'Which team won the 2015-16 Premier League title at 5000-1 odds?', options: ['Chelsea', 'Leicester City', 'Manchester City', 'Tottenham'], correct: 1 },
        { q: 'What color is Liverpool\'s home kit?', options: ['Blue', 'Red', 'White', 'Yellow'], correct: 1 },
        { q: 'Which London club plays at Stamford Bridge?', options: ['Arsenal', 'Tottenham', 'Chelsea', 'West Ham'], correct: 2 },
        { q: 'How many times has Arsenal won the Premier League?', options: ['10 times', '11 times', '13 times', '15 times'], correct: 1 }
      ],
      3: [
        { q: 'Who won the FIFA World Cup in 2018?', options: ['Germany', 'France', 'Belgium', 'Brazil'], correct: 1 },
        { q: 'Which country has won the most World Cups?', options: ['Germany', 'Italy', 'Brazil', 'France'], correct: 2 },
        { q: 'In which year was the first FIFA World Cup held?', options: ['1930', '1920', '1950', '1960'], correct: 0 },
        { q: 'Who is the all-time top scorer in World Cup history?', options: ['PelÃ©', 'Gerd MÃ¼ller', 'Miroslav Klose', 'Ronaldo'], correct: 2 },
        { q: 'Which team won the World Cup in 2014?', options: ['Spain', 'Germany', 'Argentina', 'Netherlands'], correct: 1 },
        { q: 'How often is the FIFA World Cup held?', options: ['Every 2 years', 'Every 4 years', 'Every 5 years', 'Every 3 years'], correct: 1 },
        { q: 'Which country hosted the 2022 World Cup?', options: ['Russia', 'Qatar', 'United States', 'England'], correct: 1 },
        { q: 'Who won the Golden Ball in 2022 World Cup?', options: ['Kylian MbappÃ©', 'Lionel Messi', 'Harry Kane', 'Gianluigi Donnarumma'], correct: 1 },
        { q: 'In which World Cup did Brazil lose 7-1 to Germany in the semifinals?', options: ['2010', '2014', '2018', '2002'], correct: 1 },
        { q: 'Which player scored 6 goals in the 2006 World Cup?', options: ['Zinedine Zidane', 'Gianluigi Buffon', 'Gerd MÃ¼ller', 'Ronaldinho'], correct: 0 }
      ],
      4: [
        { q: 'What is the highest transfer fee ever paid?', options: ['â‚¬160 million', 'â‚¬180 million', 'â‚¬220 million', 'â‚¬250 million'], correct: 2 },
        { q: 'Who was transferred for â‚¬160 million to PSG in 2017?', options: ['Kylian MbappÃ©', 'Neymar', 'Cristiano Ronaldo', 'Lionel Messi'], correct: 1 },
        { q: 'Which club signed Cristiano Ronaldo for a world record fee in 2009?', options: ['Manchester City', 'PSG', 'Real Madrid', 'Juventus'], correct: 2 },
        { q: 'What was the transfer fee for Neymar to PSG?', options: ['â‚¬150 million', 'â‚¬180 million', 'â‚¬222 million', 'â‚¬240 million'], correct: 2 },
        { q: 'Who was transferred to Manchester City for â‚¬100 million?', options: ['Sergio AgÃ¼ero', 'Erling Haaland', 'Yaya TourÃ©', 'Kyle Walker'], correct: 3 },
        { q: 'What was Harry Maguire\'s transfer fee to Manchester United?', options: ['â‚¬60 million', 'â‚¬75 million', 'â‚¬80 million', 'â‚¬90 million'], correct: 3 },
        { q: 'Which midfielder was sold for â‚¬150 million?', options: ['Paul Pogba', 'Philippe Coutinho', 'Ousmane DembÃ©lÃ©', 'Antoine Griezmann'], correct: 1 },
        { q: 'What was the Kylian MbappÃ© transfer fee to Real Madrid?', options: ['â‚¬160 million', 'â‚¬180 million', 'â‚¬200 million', 'Free transfer'], correct: 3 },
        { q: 'Who was transferred to Barcelona for â‚¬160 million?', options: ['Ronaldinho', 'Samuel Eto\'o', 'Philippe Coutinho', 'Antoine Griezmann'], correct: 2 },
        { q: 'What was Eden Hazard\'s transfer fee to Real Madrid?', options: ['â‚¬80 million', 'â‚¬100 million', 'â‚¬150 million', 'â‚¬120 million'], correct: 1 }
      ],
      5: [
        { q: 'Who is La Liga\'s all-time top scorer?', options: ['Ronaldinho', 'Lionel Messi', 'Cristiano Ronaldo', 'Luis AragonÃ©s'], correct: 1 },
        { q: 'Which team has won the most La Liga titles?', options: ['Barcelona', 'Real Madrid', 'AtlÃ©tico Madrid', 'Valencia'], correct: 1 },
        { q: 'How many Ballon d\'Or awards has Lionel Messi won while at Barcelona?', options: ['5', '6', '7', '8'], correct: 2 },
        { q: 'In which year did Real Madrid win 4 Champions Leagues in 5 years?', options: ['2014-2018', '2015-2019', '2016-2020', '2017-2021'], correct: 0 },
        { q: 'Who is the highest-scoring non-Spanish player in La Liga history?', options: ['Cristiano Ronaldo', 'Ronaldinho', 'Diego Maradona', 'Thierry Henry'], correct: 0 },
        { q: 'Which Barcelona player won 6 Ballon d\'Or awards?', options: ['Ronaldinho', 'Xavi', 'AndrÃ©s Iniesta', 'Lionel Messi'], correct: 3 },
        { q: 'How many consecutive La Liga titles did Real Madrid win from 2016-2018?', options: ['2', '3', '4', '5'], correct: 1 },
        { q: 'Who scored the most goals in a single La Liga season?', options: ['Cristiano Ronaldo 48', 'Lionel Messi 50', 'Ronaldo 47', 'Gerd MÃ¼ller 42'], correct: 0 },
        { q: 'Which player won 8 La Liga titles with Barcelona?', options: ['Ronaldinho', 'Xavi', 'AndrÃ©s Iniesta', 'Lionel Messi'], correct: 3 },
        { q: 'In what year did Barcelona win the treble under Guardiola?', options: ['2008', '2009', '2010', '2011'], correct: 1 }
      ],
      6: [
        { q: 'Which team has won the most Bundesliga titles?', options: ['Borussia Dortmund', 'Bayern Munich', 'Hamburg', 'Schalke 04'], correct: 1 },
        { q: 'Who is the Bundesliga\'s all-time top scorer?', options: ['Gerd MÃ¼ller', 'Robert Lewandowski', 'Klaus Fischer', 'Lothar MatthÃ¤us'], correct: 0 },
        { q: 'How many consecutive Bundesliga titles did Bayern Munich win from 2013-2017?', options: ['3', '4', '5', '6'], correct: 2 },
        { q: 'Which legendary German striker was known as "Der Bomber"?', options: ['Franz Beckenbauer', 'Gerd MÃ¼ller', 'Karl-Heinz Rummenigge', 'Uwe Seeler'], correct: 1 },
        { q: 'In which year did Borussia Dortmund last win the Bundesliga?', options: ['2010', '2011', '2012', '2013'], correct: 1 },
        { q: 'How many goals did Robert Lewandowski score in a single Bundesliga season?', options: ['40', '41', '42', '43'], correct: 2 },
        { q: 'Which Bundesliga club won the most DFB-Pokal cups?', options: ['Bayern Munich', 'Borussia Dortmund', 'Hamburg', 'Schalke 04'], correct: 0 },
        { q: 'Who was the first non-German to win the Bundesliga Golden Boot?', options: ['Robert Lewandowski', 'Mario Mandzukic', 'Mario Gomez', 'Arjen Robben'], correct: 0 },
        { q: 'In what year was the Bundesliga founded?', options: ['1960', '1962', '1963', '1965'], correct: 1 },
        { q: 'How many teams currently play in the Bundesliga?', options: ['16', '18', '20', '22'], correct: 1 }
      ],
      7: [
        { q: 'Which team has won the most Serie A titles?', options: ['AC Milan', 'Juventus', 'Inter Milan', 'AS Roma'], correct: 1 },
        { q: 'Who is the Serie A all-time top scorer?', options: ['Silvio Piola', 'Giuseppe Meazza', 'Gianfranco Zola', 'Roberto Lewandowski'], correct: 0 },
        { q: 'How many consecutive Serie A titles did Juventus win from 2011-2020?', options: ['7', '8', '9', '10'], correct: 2 },
        { q: 'Which legendary Italian player wore the number 10 for Juventus?', options: ['Diego Maradona', 'Michel Platini', 'Alessandro Del Piero', 'Roberto Baggio'], correct: 2 },
        { q: 'In which year did Inter Milan win the treble?', options: ['2008', '2009', '2010', '2011'], correct: 2 },
        { q: 'Who scored 29 goals in Serie A for AC Milan in the 2011-12 season?', options: ['IbrahimoviÄ‡', 'Ronaldinho', 'Shevchenko', 'Seedorf'], correct: 0 },
        { q: 'How many Coppa Italia titles does Juventus have?', options: ['11', '13', '14', '15'], correct: 2 },
        { q: 'Which club won Serie A in 2023-24 season?', options: ['AC Milan', 'Inter Milan', 'Juventus', 'Napoli'], correct: 1 },
        { q: 'In what year was Serie A founded?', options: ['1920', '1925', '1930', '1929'], correct: 3 },
        { q: 'How many teams currently compete in Serie A?', options: ['16', '18', '20', '22'], correct: 2 }
      ],
      8: [
        { q: 'Who won the first Ballon d\'Or award?', options: ['PelÃ©', 'Stanley Matthews', 'Ferenc PuskÃ¡s', 'Alfredo Di StÃ©fano'], correct: 2 },
        { q: 'Which player has won the most Ballon d\'Or awards?', options: ['Cristiano Ronaldo', 'PelÃ©', 'Lionel Messi', 'Johan Cruyff'], correct: 2 },
        { q: 'In what year did Messi win his first Ballon d\'Or?', options: ['2009', '2010', '2011', '2008'], correct: 0 },
        { q: 'How many Ballon d\'Or awards did Cristiano Ronaldo win?', options: ['4', '5', '6', '7'], correct: 2 },
        { q: 'Who won the Ballon d\'Or in 2023?', options: ['Kylian MbappÃ©', 'Erling Haaland', 'Lionel Messi', 'Jude Bellingham'], correct: 2 },
        { q: 'Which midfielder won the Ballon d\'Or in 2010?', options: ['Zinedine Zidane', 'AndrÃ©s Iniesta', 'Xavi', 'Ronaldinho'], correct: 1 },
        { q: 'In what year did Johan Cruyff win the Ballon d\'Or?', options: ['1971', '1972', '1973', '1974'], correct: 2 },
        { q: 'How many times did Pele win the Ballon d\'Or?', options: ['0 times', '1 time', '2 times', '3 times'], correct: 0 },
        { q: 'Which goalkeeper won the Ballon d\'Or?', options: ['Gianluigi Buffon', 'Yashin', 'Peter Shilton', 'Edwin van der Sar'], correct: 1 },
        { q: 'Who won the Ballon d\'Or in 2015?', options: ['Cristiano Ronaldo', 'Lionel Messi', 'Luis SuÃ¡rez', 'AndrÃ©s Iniesta'], correct: 0 }
      ],
      9: [
        { q: 'Which country won Euro 2020?', options: ['France', 'Italy', 'England', 'Spain'], correct: 1 },
        { q: 'Who scored the most goals in Euro 2020?', options: ['Harry Kane', 'Cristiano Ronaldo', 'Federico Chiesa', 'Kasper Schmeichel'], correct: 1 },
        { q: 'Which team won Euro 2016?', options: ['Germany', 'France', 'Portugal', 'Spain'], correct: 2 },
        { q: 'In which year did France win Euro 1984?', options: ['1980', '1982', '1984', '1986'], correct: 2 },
        { q: 'Who won the Golden Ball at Euro 2021?', options: ['Cristiano Ronaldo', 'Giorgio Chiellini', 'Gianluigi Donnarumma', 'Pedri'], correct: 3 },
        { q: 'Which team won Euro 2012?', options: ['Spain', 'Germany', 'France', 'Netherlands'], correct: 0 },
        { q: 'How many teams compete in the Euro Championship?', options: ['16', '20', '24', '32'], correct: 2 },
        { q: 'Who won Euro 2008?', options: ['Portugal', 'Germany', 'Spain', 'France'], correct: 2 },
        { q: 'In which country was Euro 2024 held?', options: ['Poland', 'Germany', 'Italy', 'France'], correct: 1 },
        { q: 'Which team won Euro 2000?', options: ['Germany', 'France', 'Czech Republic', 'Netherlands'], correct: 1 }
      ],
      10: [
        { q: 'Which country has won the most African Cup of Nations?', options: ['Egypt', 'Cameroon', 'Ghana', 'Nigeria'], correct: 0 },
        { q: 'In which year was the first AFCON held?', options: ['1957', '1960', '1965', '1968'], correct: 0 },
        { q: 'Who is the all-time top scorer in AFCON history?', options: ['Ahmed Hassan', 'Didier Drogba', 'Samuel Eto\'o', 'George Weah'], correct: 2 },
        { q: 'Which country won AFCON 2021?', options: ['Cameroon', 'Senegal', 'Egypt', 'Ivory Coast'], correct: 1 },
        { q: 'How many AFCON titles does Egypt have?', options: ['5', '6', '7', '8'], correct: 2 },
        { q: 'Which country won AFCON in 2019?', options: ['Cameroon', 'Algeria', 'Senegal', 'Nigeria'], correct: 1 },
        { q: 'Who won the Golden Ball at AFCON 2021?', options: ['Sadio Mane', 'Mohamed Salah', 'Riyad Mahrez', 'Achraf Hakimi'], correct: 2 },
        { q: 'In what year did Zambia win AFCON?', options: ['2010', '2011', '2012', '2013'], correct: 2 },
        { q: 'How often is AFCON held?', options: ['Every 2 years', 'Every 3 years', 'Every 4 years', 'Every year'], correct: 0 },
        { q: 'Which country hosted AFCON 2023?', options: ['Ivory Coast', 'Cameroon', 'Egypt', 'Algeria'], correct: 0 }
      ],
      11: [
        { q: 'Which country won Copa America 2021?', options: ['Colombia', 'Brazil', 'Argentina', 'Uruguay'], correct: 2 },
        { q: 'How many Copa America titles does Brazil have?', options: ['8', '9', '10', '11'], correct: 2 },
        { q: 'Who is the all-time top scorer in Copa America?', options: ['PelÃ©', 'Ronaldo', 'Neymar', 'Sergio AgÃ¼ero'], correct: 0 },
        { q: 'In which year was the first Copa America held?', options: ['1910', '1916', '1920', '1925'], correct: 1 },
        { q: 'Which team won Copa America 2024?', options: ['Argentina', 'Brazil', 'Colombia', 'Uruguay'], correct: 0 },
        { q: 'Who won the Golden Ball at Copa America 2021?', options: ['Lionel Messi', 'Neymar', 'Luis DÃ­az', 'Sergio AgÃ¼ero'], correct: 0 },
        { q: 'How many times has Argentina won Copa America?', options: ['13', '14', '15', '16'], correct: 2 },
        { q: 'Which country won Copa America 2016?', options: ['Brazil', 'Chile', 'Argentina', 'Colombia'], correct: 2 },
        { q: 'Who scored the most goals in a single Copa America?', options: ['Ronaldo', 'Ronaldinho', 'Carlos Tevez', 'Neymar'], correct: 0 },
        { q: 'In which year did Uruguay win their last Copa America?', options: ['1950', '1960', '1987', '1995'], correct: 2 }
      ],
      12: [
        { q: 'Which stadium has a capacity of 99,000?', options: ['Camp Nou', 'Old Trafford', 'Wembley', 'San Siro'], correct: 0 },
        { q: 'What is the name of Real Madrid\'s stadium?', options: ['Santiago BernabÃ©u', 'Valdebebas', 'Alfredo Di StÃ©fano', 'Estadio OlÃ­mpico'], correct: 0 },
        { q: 'Which club plays at Anfield?', options: ['Manchester United', 'Liverpool', 'Chelsea', 'Arsenal'], correct: 1 },
        { q: 'What is the capacity of Old Trafford?', options: ['70,000', '75,000', '76,000', '80,000'], correct: 2 },
        { q: 'Which stadium is known as "The Theater of Dreams"?', options: ['Wembley', 'BernabÃ©u', 'Old Trafford', 'Stamford Bridge'], correct: 2 },
        { q: 'What is Bayern Munich\'s stadium called?', options: ['Olympiastadion', 'Allianz Arena', 'SÃ¤bener StraÃŸe', 'GrÃ¼nwalder Stadion'], correct: 1 },
        { q: 'Which team plays at Parc des Princes?', options: ['Lyon', 'AS Monaco', 'PSG', 'Marseille'], correct: 2 },
        { q: 'What is Juventus\' home stadium?', options: ['Stadio San Paolo', 'Allianz Stadium', 'Stadio Olimpico', 'San Siro'], correct: 1 },
        { q: 'Which stadium has a "12th man" atmosphere?', options: ['Camp Nou', 'San Siro', 'Westfalenstadion', 'Allianz Arena'], correct: 2 },
        { q: 'What is Manchester City\'s stadium called?', options: ['City of Manchester Stadium', 'Etihad Stadium', 'Maine Road', 'Manchester Stadium'], correct: 1 }
      ],
      13: [
        { q: 'Who is considered the greatest goalkeeper of all time?', options: ['Gianluigi Buffon', 'PelÃ©', 'Lev Yashin', 'Peter Shilton'], correct: 2 },
        { q: 'Which goalkeeper won the most Ballon d\'Or awards?', options: ['Gianluigi Buffon', 'Peter Shilton', 'Lev Yashin', 'Joe Hart'], correct: 2 },
        { q: 'Who is known as the "Russian Spider"?', options: ['Rinat Dasayev', 'Igor Akinfeev', 'Lev Yashin', 'Vladimir Beara'], correct: 2 },
        { q: 'How many clean sheets did Petr ÄŒech have in his career?', options: ['181', '201', '228', '251'], correct: 2 },
        { q: 'Who won the Golden Glove at 2022 World Cup?', options: ['Gianluigi Donnarumma', 'Hugo Lloris', 'Manuel Neuer', 'Alisson'], correct: 0 },
        { q: 'Which goalkeeper saved a penalty in Euro 92 final shootout?', options: ['Peter Schmeichel', 'Gianluigi Buffon', 'Rinat Dasayev', 'Dino Zoff'], correct: 0 },
        { q: 'How many Champions League titles did Gianluigi Buffon win?', options: ['1', '2', '3', '4'], correct: 0 },
        { q: 'Which German goalkeeper won 2 World Cups?', options: ['Oliver Kahn', 'Manuel Neuer', 'Sepp Maier', 'Gianluigi Buffon'], correct: 1 },
        { q: 'Who is known for his distribution and ball skills as a modern keeper?', options: ['De Gea', 'Ederson', 'Kepa Arrizabalaga', 'Donnarumma'], correct: 1 },
        { q: 'How many years did Buffon play professionally?', options: ['28', '30', '32', '25'], correct: 2 }
      ],
      14: [
        { q: 'Who scored a hat-trick in Champions League finals?', options: ['Cristiano Ronaldo', 'Lewandowski', 'Zinedine Zidane', 'Kylian MbappÃ©'], correct: 0 },
        { q: 'Who scored 8 hat-tricks in international football?', options: ['Gerd MÃ¼ller', 'PelÃ©', 'Cristiano Ronaldo', 'Ronaldo'], correct: 0 },
        { q: 'How many hat-tricks has Messi scored in his career?', options: ['45', '50', '56', '60'], correct: 2 },
        { q: 'Who holds the record for fastest hat-trick in football?', options: ['Robert Lewandowski', 'Sadio Mane', 'BafÃ©timbi Gomis', 'Mohamed Salah'], correct: 0 },
        { q: 'How many hat-tricks did Cristiano Ronaldo score in 2012-13?', options: ['2', '3', '4', '5'], correct: 2 },
        { q: 'Who scored a hat-trick in a Champions League final?', options: ['Ronaldinho', 'Ronaldo', 'Zinedine Zidane', 'Gerd MÃ¼ller'], correct: 2 },
        { q: 'How many hat-tricks did PelÃ© score in the 1970 World Cup?', options: ['0', '1', '2', '3'], correct: 1 },
        { q: 'Who scored the fastest Premier League hat-trick?', options: ['Sadio Mane', 'Harry Kane', 'Sergio AgÃ¼ero', 'Cristiano Ronaldo'], correct: 0 },
        { q: 'In which year did Ronaldo score 6 hat-tricks?', options: ['2009', '2010', '2011', '2012'], correct: 2 },
        { q: 'How many hat-tricks did Gerd MÃ¼ller score in World Cups?', options: ['1', '2', '3', '4'], correct: 2 }
      ],
      15: [
        { q: 'Who is widely considered the greatest manager of all time?', options: ['Sir Alex Ferguson', 'Pep Guardiola', 'Zinedine Zidane', 'ArsÃ¨ne Wenger'], correct: 0 },
        { q: 'How many Premier League titles did Sir Alex Ferguson win?', options: ['11', '12', '13', '15'], correct: 2 },
        { q: 'Which manager won 4 Champions Leagues in a row?', options: ['Carlo Ancelotti', 'Zinedine Zidane', 'Pep Guardiola', 'JosÃ© Mourinho'], correct: 1 },
        { q: 'How many consecutive Bundesliga titles did Guardiola win at Bayern?', options: ['2', '3', '4', '5'], correct: 2 },
        { q: 'Which manager is known for "Tiki-Taka" style?', options: ['Zinedine Zidane', 'Pep Guardiola', 'Luis AragonÃ©s', 'Vicente del Bosque'], correct: 2 },
        { q: 'How many World Cups did Carlo Ancelotti win?', options: ['1', '2', '3', '4'], correct: 0 },
        { q: 'Who managed Barcelona to the 2009 treble?', options: ['Frank Rijkaard', 'Pep Guardiola', 'Tito Vilanova', 'Tiki Taka'], correct: 1 },
        { q: 'How many Champions Leagues did Sir Alex Ferguson win?', options: ['2', '3', '5', '6'], correct: 1 },
        { q: 'Which manager is known for the "Special One" comment?', options: ['Pep Guardiola', 'JosÃ© Mourinho', 'Carlo Ancelotti', 'Zinedine Zidane'], correct: 1 },
        { q: 'How many Premier League titles did JosÃ© Mourinho win?', options: ['2', '3', '4', '5'], correct: 1 }
      ],
      16: [
        { q: 'Who is the youngest Champions League winner?', options: ['Kylian MbappÃ©', 'Mason Mount', 'Erling Haaland', 'Jude Bellingham'], correct: 0 },
        { q: 'At what age did PelÃ© score in a World Cup?', options: ['17', '18', '19', '20'], correct: 0 },
        { q: 'Which young player signed for Barcelona\'s academy?', options: ['Lionel Messi', 'Xavi', 'AndrÃ©s Iniesta', 'Riqui Puig'], correct: 0 },
        { q: 'Who is the youngest Ballon d\'Or winner?', options: ['Kylian MbappÃ©', 'George Best', 'PelÃ©', 'Joao Felix'], correct: 1 },
        { q: 'How old was Erling Haaland when he joined Manchester City?', options: ['20', '21', '22', '23'], correct: 2 },
        { q: 'Who was the youngest player to score in a Champions League?', options: ['Kylian MbappÃ©', 'Jude Bellingham', 'PelÃ©', 'Wayne Rooney'], correct: 0 },
        { q: 'At what age did Kylian MbappÃ© become a millionaire?', options: ['16', '17', '18', '19'], correct: 1 },
        { q: 'How old was Cristiano Ronaldo when he joined Manchester United?', options: ['16', '17', '18', '19'], correct: 1 },
        { q: 'Who is the youngest manager to win a major trophy?', options: ['Pep Guardiola', 'JosÃ© Mourinho', 'Zinedine Zidane', 'Ange Postecoglou'], correct: 1 },
        { q: 'At what age did Messi make his Barcelona debut?', options: ['15', '16', '17', '18'], correct: 2 }
      ],
      17: [
        { q: 'What is the most famous derby in England?', options: ['Manchester Derby', 'Merseyside Derby', 'North London Derby', 'Old Firm'], correct: 1 },
        { q: 'Which teams play in the Old Firm derby?', options: ['Rangers vs Celtic', 'Aberdeen vs Hearts', 'Hibernian vs Hearts', 'Motherwell vs Celtic'], correct: 0 },
        { q: 'What is the Milan derby called?', options: ['Derby della Madonnina', 'Derby d\'Italia', 'Derby del Sole', 'Derby Rossoneri'], correct: 0 },
        { q: 'Which is the biggest derby in Spain?', options: ['El ClÃ¡sico', 'Derby MadrileÃ±o', 'Derby CatalÃ¡n', 'Seville Derby'], correct: 0 },
        { q: 'What is the Rome derby called?', options: ['Derby della Capitale', 'Rome Rivalry', 'Italian Derby', 'Lazio vs Roma'], correct: 0 },
        { q: 'Which teams play the North London Derby?', options: ['Chelsea vs West Ham', 'Arsenal vs Tottenham', 'Fulham vs Chelsea', 'Crystal Palace vs Brighton'], correct: 1 },
        { q: 'What is the Manchester derby called?', options: ['Manchester Rivalry', 'Manchester Clash', 'Manchester Duel', 'Red and Blue Derby'], correct: 3 },
        { q: 'How many Old Firm derbies happen per season?', options: ['2', '3', '4', '6'], correct: 3 },
        { q: 'Which derby is known as "Der Klassiker"?', options: ['Bayern vs Dortmund', 'Bayern vs Schalke', 'Hamburg vs Dortmund', 'Bayer vs Munich'], correct: 0 },
        { q: 'What is the Merseyside derby?', options: ['Liverpool vs Manchester United', 'Everton vs Liverpool', 'Liverpool vs Chelsea', 'Everton vs Manchester City'], correct: 1 }
      ],
      18: [
        { q: 'Who won the Golden Boot at 2022 World Cup?', options: ['Harry Kane', 'Kylian MbappÃ©', 'Gerd MÃ¼ller', 'Ronaldo'], correct: 1 },
        { q: 'How many Premier League Golden Boots has Mohamed Salah won?', options: ['2', '3', '4', '5'], correct: 1 },
        { q: 'Who won the most Golden Boots in La Liga?', options: ['Cristiano Ronaldo', 'Lionel Messi', 'PelÃ©', 'Ronaldo'], correct: 1 },
        { q: 'How many consecutive Golden Boots did Cristiano Ronaldo win?', options: ['3', '4', '5', '6'], correct: 2 },
        { q: 'Who won the European Golden Boot in 2023?', options: ['Erling Haaland', 'Kylian MbappÃ©', 'Harry Kane', 'Robert Lewandowski'], correct: 0 },
        { q: 'How many Premier League Golden Boots has Harry Kane won?', options: ['3', '4', '5', '6'], correct: 1 },
        { q: 'Who scored 50 goals in a calendar year?', options: ['Cristiano Ronaldo', 'Lionel Messi', 'Gerd MÃ¼ller', 'Ronaldo'], correct: 1 },
        { q: 'How many Bundesliga Golden Boots did Lewandowski win?', options: ['6', '7', '8', '9'], correct: 2 },
        { q: 'Who won the most La Liga Pichichi awards?', options: ['Ronaldo', 'Cristiano Ronaldo', 'Lionel Messi', 'Samuel Eto\'o'], correct: 2 },
        { q: 'How many Serie A Capocannonieri has Cristiano Ronaldo won?', options: ['0', '1', '2', '3'], correct: 1 }
      ],
      19: [
        { q: 'What is the record number of penalty saves by a goalkeeper?', options: ['10', '15', '20', '25'], correct: 1 },
        { q: 'How many penalties did Cristiano Ronaldo convert?', options: ['120', '140', '145', '150'], correct: 2 },
        { q: 'Who holds the record for most penalties scored in a season?', options: ['Sergio AgÃ¼ero', 'Cristiano Ronaldo', 'Harry Kane', 'Lionel Messi'], correct: 1 },
        { q: 'How many penalties has Lionel Messi scored?', options: ['65', '75', '85', '95'], correct: 2 },
        { q: 'Who saved the most penalties in Champions League history?', options: ['Gianluigi Buffon', 'Petr ÄŒech', 'Iker Casillas', 'Peter Schmeichel'], correct: 0 },
        { q: 'How many penalties did PelÃ© take in his career?', options: ['95', '105', '125', '140'], correct: 2 },
        { q: 'What is the highest percentage of penalty conversions?', options: ['80%', '85%', '90%', '95%'], correct: 2 },
        { q: 'Who holds the record for most penalties in a single season?', options: ['Cristiano Ronaldo', 'Sergio AgÃ¼ero', 'Harry Kane', 'Mohamed Salah'], correct: 0 },
        { q: 'How many penalties did Gerd MÃ¼ller score?', options: ['32', '42', '52', '62'], correct: 2 },
        { q: 'Who is the most accurate penalty taker in football history?', options: ['PelÃ©', 'Cristiano Ronaldo', 'Zinedine Zidane', 'Javier Pastore'], correct: 1 }
      ],
      20: [
        { q: 'What is the maximum number of substitutes allowed per match?', options: ['3', '4', '5', '6'], correct: 2 },
        { q: 'How many players must be on the field at all times?', options: ['10', '11', '12', '13'], correct: 1 },
        { q: 'When was VAR first introduced in football?', options: ['2014', '2015', '2016', '2017'], correct: 2 },
        { q: 'What is the penalty for a handball in the box?', options: ['Yellow card', 'Red card', 'Penalty kick', 'Goal kick'], correct: 2 },
        { q: 'How many minutes does a standard football match last?', options: ['80 minutes', '85 minutes', '90 minutes', '95 minutes'], correct: 2 },
        { q: 'At what distance is a penalty taken?', options: ['10 yards', '11 yards', '12 meters', '12 yards'], correct: 3 },
        { q: 'What is the size of the goal?', options: ['8x8 yards', '8x9 yards', '7x8 yards', '10x8 yards'], correct: 1 },
        { q: 'How many officials are on the field?', options: ['2', '3', '4', '5'], correct: 2 },
        { q: 'What was the first color of cards in football?', options: ['Red and Yellow', 'Just Red', 'Just Yellow', 'Just Blue'], correct: 1 },
        { q: 'In which year was the offside rule introduced?', options: ['1863', '1890', '1950', '1930'], correct: 0 }
      ]
    };
    
    // ==================== ARTICLE DATA ====================
    // Conversion: 1 point = KSH 20
    const articleTasks = [
      { id: 1, title: 'El Clasico Match Preview', wordCount: '400-600', deadline: '48h', points: 150, ksh: 3000, type: 'Preview', color: 'card-emerald' },
      { id: 2, title: 'Kylian MbappÃ©: Player Analysis', wordCount: '500-700', deadline: '72h', points: 200, ksh: 4000, type: 'Analysis', color: 'card-amber' },
      { id: 3, title: 'The Evolution of Tiki-Taka', wordCount: '600-800', deadline: '96h', points: 250, ksh: 5000, type: 'Tactical', color: 'card-rose' },
      { id: 4, title: 'Champions League Round of 16 Preview', wordCount: '400-500', deadline: '24h', points: 100, ksh: 2000, type: 'Preview', color: 'card-violet' },
      { id: 5, title: 'The Rise of Young English Talent', wordCount: '500-700', deadline: '72h', points: 180, ksh: 3600, type: 'Feature', color: 'card-cyan' },
      { id: 6, title: 'Analyzing the 4-3-3 Formation', wordCount: '600-800', deadline: '96h', points: 220, ksh: 4400, type: 'Tactical', color: 'card-orange' },
      { id: 7, title: 'Derby Day: Manchester United vs Liverpool', wordCount: '400-600', deadline: '48h', points: 160, ksh: 3200, type: 'Preview', color: 'card-emerald' },
      { id: 8, title: 'Erling Haaland: Season Review', wordCount: '500-700', deadline: '72h', points: 190, ksh: 3800, type: 'Analysis', color: 'card-amber' },
      { id: 9, title: 'The Art of the Counter-Attack', wordCount: '600-800', deadline: '96h', points: 240, ksh: 4800, type: 'Tactical', color: 'card-rose' },
      { id: 10, title: 'Serie A Title Race Analysis', wordCount: '400-500', deadline: '48h', points: 130, ksh: 2600, type: 'Preview', color: 'card-violet' },
      { id: 11, title: 'Best Free Kick Takers of All Time', wordCount: '500-600', deadline: '72h', points: 170, ksh: 3400, type: 'Feature', color: 'card-cyan' },
      { id: 12, title: 'High Press vs Low Block: A Tactical Study', wordCount: '700-900', deadline: '120h', points: 280, ksh: 5600, type: 'Tactical', color: 'card-orange' },
      { id: 13, title: 'World Cup Qualifiers Preview', wordCount: '400-500', deadline: '24h', points: 110, ksh: 2200, type: 'Preview', color: 'card-emerald' },
      { id: 14, title: 'The Best Central Midfielders Today', wordCount: '500-700', deadline: '72h', points: 175, ksh: 3500, type: 'Analysis', color: 'card-amber' },
      { id: 15, title: 'How VAR Changed Football', wordCount: '600-800', deadline: '96h', points: 210, ksh: 4200, type: 'Feature', color: 'card-rose' },
      { id: 16, title: 'Bundesliga Weekend Preview', wordCount: '300-400', deadline: '24h', points: 90, ksh: 1800, type: 'Preview', color: 'card-violet' },
      { id: 17, title: 'The Best Left-Backs in Europe', wordCount: '500-600', deadline: '72h', points: 165, ksh: 3300, type: 'Analysis', color: 'card-cyan' },
      { id: 18, title: 'Set Piece Mastery: A Complete Guide', wordCount: '700-900', deadline: '120h', points: 270, ksh: 5400, type: 'Tactical', color: 'card-orange' },
      { id: 19, title: 'African Cup of Nations Preview', wordCount: '400-600', deadline: '48h', points: 145, ksh: 2900, type: 'Preview', color: 'card-emerald' },
      { id: 20, title: 'The Greatest Goals in Football History', wordCount: '500-700', deadline: '72h', points: 185, ksh: 3700, type: 'Feature', color: 'card-amber' }
    ];
    
    // ==================== VIDEO DATA ====================
    // Conversion: 1 point = KSH 20
    const videoTasks = [
      { id: 1, title: 'Goal Analysis: Counter-Attack Breakdown', description: 'Analyze the tactical movement in this counter-attacking goal', points: 80, ksh: 1600, color: 'card-rose' },
      { id: 2, title: 'Defensive Shape Analysis', description: 'Break down the defensive organization in this clip', points: 70, ksh: 1400, color: 'card-violet' },
      { id: 3, title: 'Midfield Pressing Patterns', description: 'Identify the pressing triggers and patterns', points: 90, ksh: 1800, color: 'card-cyan' },
      { id: 4, title: 'Set Piece Execution', description: 'Analyze the corner kick routine and execution', points: 75, ksh: 1500, color: 'card-orange' },
      { id: 5, title: 'Build-Up Play Analysis', description: 'Break down the passing sequences in build-up', points: 85, ksh: 1700, color: 'card-emerald' },
      { id: 6, title: 'One-on-One Defending', description: 'Analyze the defensive decision making', points: 65, ksh: 1300, color: 'card-amber' },
      { id: 7, title: 'Attacking Transition', description: 'Study the transition from defense to attack', points: 95, ksh: 1900, color: 'card-rose' },
      { id: 8, title: 'Goalkeeper Positioning', description: 'Analyze the goalkeeper\'s positioning and decisions', points: 70, ksh: 1400, color: 'card-violet' },
      { id: 9, title: 'Wing Play Analysis', description: 'Break down the winger\'s movement and delivery', points: 80, ksh: 1600, color: 'card-cyan' },
      { id: 10, title: 'Striker Movement', description: 'Analyze the striker\'s runs and positioning', points: 85, ksh: 1700, color: 'card-orange' },
      { id: 11, title: 'Full-Back Overlaps', description: 'Study the timing and execution of overlapping runs', points: 75, ksh: 1500, color: 'card-emerald' },
      { id: 12, title: 'Defensive Midfield Screening', description: 'Analyze how the DM protects the backline', points: 90, ksh: 1800, color: 'card-amber' },
      { id: 13, title: 'Penalty Area Chaos', description: 'Break down the chaotic sequence in the box', points: 65, ksh: 1300, color: 'card-rose' },
      { id: 14, title: 'Long Ball Strategy', description: 'Analyze the direct play approach', points: 70, ksh: 1400, color: 'card-violet' },
      { id: 15, title: 'Compact Defensive Block', description: 'Study how the team maintains its shape', points: 85, ksh: 1700, color: 'card-cyan' },
      { id: 16, title: 'False 9 Movement', description: 'Analyze the false 9 position and impact', points: 95, ksh: 1900, color: 'card-orange' },
      { id: 17, title: 'High Line Defense', description: 'Study the risks and rewards of a high line', points: 80, ksh: 1600, color: 'card-emerald' },
      { id: 18, title: 'Through Ball Analysis', description: 'Break down the through ball execution', points: 75, ksh: 1500, color: 'card-amber' },
      { id: 19, title: 'Header Goal Analysis', description: 'Analyze the aerial delivery and header', points: 70, ksh: 1400, color: 'card-rose' },
      { id: 20, title: 'Team Shape Transitions', description: 'Study shape changes between phases', points: 90, ksh: 1800, color: 'card-violet' }
    ];
    
    // ==================== UTILITY FUNCTIONS ====================
    function showToast(message, type = 'success') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.textContent = message;
      container.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }
    
    function saveToStorage(key, data) {
      localStorage.setItem(`sportivex_${key}`, JSON.stringify(data));
    }
    
    function getFromStorage(key) {
      const data = localStorage.getItem(`sportivex_${key}`);
      return data ? JSON.parse(data) : null;
    }
    
    // ==================== THEME & MUSIC ====================
    function toggleTheme() {
      darkMode = !darkMode;
      document.body.classList.toggle('dark', darkMode);
      document.body.classList.toggle('light', !darkMode);
      document.body.style.backgroundColor = darkMode ? '#0a0f1a' : '#f8fafc';
      document.body.style.color = darkMode ? '#ffffff' : '#1e293b';
      saveToStorage('darkMode', darkMode);
    }
    
    function toggleMusic() {
      const audio = document.getElementById('bgMusic');
      const btn = document.getElementById('musicBtn');
      if (musicPlaying) {
        audio.pause();
        btn.style.opacity = '0.5';
      } else {
        audio.play().catch(() => {});
        btn.style.opacity = '1';
      }
      musicPlaying = !musicPlaying;
    }
    
    // ==================== NAVIGATION ====================
    function showPage(page) {
      document.getElementById('landingPage').classList.add('hidden');
      document.getElementById('registerPage').classList.add('hidden');
      document.getElementById('loginPage').classList.add('hidden');
      document.getElementById('dashboardPage').classList.add('hidden');
      
      if (page === 'landing') {
        document.getElementById('landingPage').classList.remove('hidden');
      } else if (page === 'register') {
        document.getElementById('registerPage').classList.remove('hidden');
      } else if (page === 'login') {
        document.getElementById('loginPage').classList.remove('hidden');
      } else if (page === 'dashboard') {
        document.getElementById('dashboardPage').classList.remove('hidden');
        updateDashboard();
      }
      
      document.getElementById('mainContent').scrollTop = 0;
    }
    
    function toggleSidebar() {
      sidebarOpen = !sidebarOpen;
      document.getElementById('sidebar').classList.toggle('open', sidebarOpen);
      document.getElementById('sidebarOverlay').classList.toggle('hidden', !sidebarOpen);
    }
    
    function showDashboardSection(section) {
      document.querySelectorAll('.dashboard-section').forEach(el => el.classList.add('hidden'));
      document.getElementById(section + 'Section').classList.remove('hidden');
      
      if (sidebarOpen) toggleSidebar();
      
      const titles = {
        home: 'Dashboard',
        trivia: 'Trivia Tasks',
        articles: 'Article Writing',
        videos: 'Video Analysis',
        submissions: 'My Submissions',
        notifications: 'Notifications',
        wallet: 'Wallet',
        withdraw: 'Withdraw',
        subscribe: 'Subscribe',
        profile: 'Profile',
        help: 'Help & Rules'
      };
      
      document.getElementById('dashboardTitle').textContent = titles[section] || 'Dashboard';
      
      if (section === 'trivia') renderTriviaList();
      if (section === 'articles') renderArticlesList();
      if (section === 'videos') renderVideosList();
      if (section === 'submissions') renderSubmissionsList();
      if (section === 'wallet') updateWallet();
      if (section === 'profile') updateProfile();
    }
    
    // ==================== AUTHENTICATION ====================
    document.getElementById('registerForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const username = document.getElementById('regUsername').value;
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;
      const confirmPassword = document.getElementById('regConfirmPassword').value;
      
      if (password !== confirmPassword) {
        showToast('Passwords do not match!', 'error');
        return;
      }
      
      // Send to Web3Forms
      const formData = new FormData();
      formData.append('access_key', 'ec37dec9-e0d1-495c-80d4-632e7c1f9ca3');
      formData.append('subject', 'New SportiveX Registration');
      formData.append('username', username);
      formData.append('email', email);
      formData.append('type', 'registration');
      
      try {
        await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        });
      } catch (err) {
        console.error('Form submission error:', err);
      }
      
      const user = {
        username,
        email,
        password,
        points: 0,
        level: 1,
        completedTasks: 0,
        pendingTasks: 0,
        bio: '',
        isSubscribed: false,
        subscriptionStart: null,
        subscriptionExpiry: null,
        submissions: [],
        transactions: [],
        createdAt: new Date().toISOString()
      };
      
      saveToStorage('user', user);
      currentUser = user;
      showToast('Account created successfully!');
      showPage('dashboard');
    });
    
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      const storedUser = getFromStorage('user');
      
      if (storedUser && storedUser.email === email && storedUser.password === password) {
        currentUser = storedUser;
        showToast('Welcome back!');
        showPage('dashboard');
      } else {
        showToast('Invalid credentials!', 'error');
      }
    });
    
    function logout() {
      currentUser = null;
      showToast('Logged out successfully!');
      showPage('landing');
    }
    
    // ==================== DASHBOARD ====================
    function updateDashboard() {
      if (!currentUser) return;
      
      document.getElementById('welcomeUsername').textContent = currentUser.username;
      document.getElementById('statsCompleted').textContent = currentUser.completedTasks;
      document.getElementById('statsPending').textContent = currentUser.pendingTasks;
      document.getElementById('statsPoints').textContent = currentUser.points;
      document.getElementById('statsLevel').textContent = currentUser.level;
      document.getElementById('headerPoints').textContent = currentUser.points;
      
      updateRecentActivity();
    }
    
    function updateRecentActivity() {
      const container = document.getElementById('recentActivity');
      if (currentUser.submissions.length === 0) {
        container.innerHTML = '<p class="text-gray-400 text-center py-8">No recent activity. Start a task to begin!</p>';
        return;
      }
      
      const recent = currentUser.submissions.slice(-5).reverse();
      container.innerHTML = recent.map(sub => `
        <div class="flex items-center gap-4 p-3 rounded-xl bg-white/5">
          <span class="text-2xl">${sub.type === 'trivia' ? 'ğŸ§ ' : sub.type === 'article' ? 'âœï¸' : 'ğŸ¬'}</span>
          <div class="flex-1">
            <h4 class="font-semibold">${sub.title}</h4>
            <p class="text-sm text-gray-400">${sub.status}</p>
          </div>
          <span class="text-sm text-gray-500">${new Date(sub.date).toLocaleDateString()}</span>
        </div>
      `).join('');
    }
    
    // ==================== TRIVIA ====================
    function renderTriviaList() {
      const container = document.getElementById('triviaList');
      const lockedContainer = document.getElementById('triviaLocked');
      
      // If not subscribed, show locked message and hide tasks
      if (!currentUser.isSubscribed) {
        container.innerHTML = '';
        lockedContainer.classList.remove('hidden');
        return;
      }
      
      lockedContainer.classList.add('hidden');
      
      const colors = ['card-emerald', 'card-amber', 'card-rose', 'card-violet', 'card-cyan', 'card-orange'];
      
      container.innerHTML = triviaQuizzes.map((quiz, i) => `
        <div class="${colors[i % 6]} rounded-2xl p-6 task-card cursor-pointer" onclick="startQuiz(${quiz.id})">
          <div class="flex items-start justify-between mb-4">
            <span class="text-4xl">${quiz.icon}</span>
            <span class="px-3 py-1 bg-white/20 rounded-full text-xs font-semibold uppercase">${quiz.difficulty}</span>
          </div>
          <h3 class="font-orbitron text-lg font-bold mb-2">${quiz.title}</h3>
          <p class="text-sm opacity-80 mb-4">${quiz.questions} Questions â€¢ ${quiz.category}</p>
          <div class="flex items-center justify-between">
            <span class="text-amber-300 font-bold">ğŸ† ${quiz.points} pts (KSH ${quiz.points * 20})</span>
            <span class="text-white/70 text-sm">~5 min</span>
          </div>
        </div>
      `).join('');
    }
    
    function startQuiz(quizId) {
      const quiz = triviaQuizzes.find(q => q.id === quizId);
      const questions = triviaQuestions[quizId];
      
      currentQuiz = {
        quiz,
        questions,
        currentIndex: 0,
        score: 0,
        answers: []
      };
      
      document.getElementById('quizTitle').textContent = quiz.title;
      showDashboardSection('triviaQuiz');
      showQuestion();
    }
    
    function showQuestion() {
      const { questions, currentIndex } = currentQuiz;
      
      if (currentIndex >= questions.length) {
        endQuiz();
        return;
      }
      
      const question = questions[currentIndex];
      document.getElementById('quizProgress').textContent = `${currentIndex + 1}/${questions.length}`;
      document.getElementById('quizQuestion').textContent = question.q;
      
      const optionsHtml = question.options.map((opt, i) => `
        <button onclick="selectAnswer(${i})" class="w-full p-4 text-left rounded-xl bg-white/10 hover:bg-white/20 transition font-semibold">
          ${String.fromCharCode(65 + i)}. ${opt}
        </button>
      `).join('');
      
      document.getElementById('quizOptions').innerHTML = optionsHtml;
      document.getElementById('quizFeedback').classList.add('hidden');
      document.getElementById('quizComplete').classList.add('hidden');
      
      startTimer();
    }
    
    function startTimer() {
      let timeLeft = 30;
      document.getElementById('quizTimer').textContent = `â±ï¸ ${timeLeft}s`;
      
      if (quizTimer) clearInterval(quizTimer);
      
      quizTimer = setInterval(() => {
        timeLeft--;
        document.getElementById('quizTimer').textContent = `â±ï¸ ${timeLeft}s`;
        
        if (timeLeft <= 0) {
          clearInterval(quizTimer);
          selectAnswer(-1);
        }
      }, 1000);
    }
    
    function selectAnswer(answerIndex) {
      clearInterval(quizTimer);
      
      const { questions, currentIndex } = currentQuiz;
      const question = questions[currentIndex];
      const correct = answerIndex === question.correct;
      
      if (correct) currentQuiz.score++;
      currentQuiz.answers.push(answerIndex);
      
      const feedback = document.getElementById('quizFeedback');
      feedback.classList.remove('hidden');
      feedback.className = `mt-6 p-4 rounded-xl ${correct ? 'bg-emerald-500/20 border border-emerald-500' : 'bg-rose-500/20 border border-rose-500'}`;
      feedback.innerHTML = correct 
        ? '<span class="text-emerald-400 font-bold">âœ“ Correct!</span>'
        : `<span class="text-rose-400 font-bold">âœ— Wrong!</span> <span class="text-gray-300">Correct answer: ${question.options[question.correct]}</span>`;
      
      setTimeout(() => {
        currentQuiz.currentIndex++;
        showQuestion();
      }, 1500);
    }
    
    function endQuiz() {
      document.getElementById('quizQuestion').textContent = '';
      document.getElementById('quizOptions').innerHTML = '';
      document.getElementById('quizFeedback').classList.add('hidden');
      document.getElementById('quizComplete').classList.remove('hidden');
      
      const score = currentQuiz.score;
      const total = currentQuiz.questions.length;
      const pointsEarned = Math.round((score / total) * currentQuiz.quiz.points);
      
      document.getElementById('finalScore').textContent = `${score}`;
      
      currentUser.points += pointsEarned;
      currentUser.completedTasks++;
      currentUser.submissions.push({
        type: 'trivia',
        title: currentQuiz.quiz.title,
        score: `${score}/${total}`,
        points: pointsEarned,
        status: 'Approved',
        date: new Date().toISOString()
      });
      
      currentUser.level = Math.floor(currentUser.points / 500) + 1;
      saveToStorage('user', currentUser);
      updateDashboard();
      
      showToast(`Quiz complete! You earned ${pointsEarned} points!`);
    }
    
    // ==================== ARTICLES ====================
    function renderArticlesList() {
      // Check if user has active subscription
      const container = document.getElementById('articlesList');
      const lockedContainer = document.getElementById('articlesLocked');
      
      if (!currentUser.isSubscribed) {
        container.innerHTML = '';
        lockedContainer.classList.remove('hidden');
        return;
      }
      
      lockedContainer.classList.add('hidden');
      
      container.innerHTML = articleTasks.map(task => `
        <div class="${task.color} rounded-2xl p-6 task-card cursor-pointer" onclick="startArticle(${task.id})">
          <div class="flex items-start justify-between mb-4">
            <span class="px-3 py-1 bg-white/20 rounded-full text-xs font-semibold">${task.type}</span>
            <span class="text-amber-300 font-bold">ğŸ† ${task.points} pts (KSH ${task.ksh})</span>
          </div>
          <h3 class="font-orbitron text-lg font-bold mb-2">${task.title}</h3>
          <div class="flex items-center gap-4 text-sm opacity-80">
            <span>ğŸ“ ${task.wordCount} words</span>
            <span>â° ${task.deadline}</span>
          </div>
        </div>
      `).join('');
    }
    
    function startArticle(articleId) {
      const article = articleTasks.find(a => a.id === articleId);
      currentArticle = article;
      
      const questionSets = {
        'Preview': {
          mainQuestion: 'In your own words, explain why you predict this specific scoreline for this match. What tactical factors, recent form, and head-to-head patterns support your prediction?',
          followUp1: 'Which team\'s weakness does the other team\'s strength exploit the most? Provide a detailed tactical analysis.',
          followUp2: 'Identify the key player matchup that will decide this game. Why is this specific battle critical to the outcome?'
        },
        'Analysis': {
          mainQuestion: 'In your own words, explain why this player has been successful (or struggled) this season. What specific attributes and circumstances have contributed most to their performance?',
          followUp1: 'Compare this player to one other player in their position. What makes them different or similar? Which is currently better and why?',
          followUp2: 'What is ONE major weakness this player needs to work on to reach the next level? How could they improve it?'
        },
        'Tactical': {
          mainQuestion: 'In your own words, explain how this formation/tactic creates advantages compared to traditional approaches. What specific scenarios make it effective or vulnerable?',
          followUp1: 'Describe a real game scenario where this tactic completely failed. What was the opposing strategy that countered it?',
          followUp2: 'If you were a coach, how would you tweak this formation to make it more effective against modern pressing systems?'
        },
        'Feature': {
          mainQuestion: 'In your own words, explain the historical significance of this topic in football. How has it evolved over time and why does it matter today?',
          followUp1: 'Name the three most important moments or achievements in the history of this topic. Explain why each was transformative.',
          followUp2: 'If you could change one major rule or trend related to this topic, what would it be and why would it improve football?'
        }
      };
      
      const guidelines = {
        'Preview': {
          tips: [
            'ğŸ“‹ Provide team news and player availability',
            'âš™ï¸ Analyze recent form and tactical approach',
            'ğŸ“Š Compare head-to-head records',
            'ğŸ¯ Highlight key matchups and potential game-winners',
            'ï¿½ï¿½ï¿½ Predict likely scoreline and outcome'
          ],
          caseStudy: 'Example: "Manchester City vs Liverpool Preview - City arrives unbeaten with 12 consecutive wins. Their high-pressing system has dominated mid-table sides, but Liverpool\'s counter-attacking speed poses the main threat. Historical head-to-head shows City leads 8-5 in recent years. Key battle: De Bruyne vs Fabinho midfield duel. Prediction: City 2-1 Liverpool."',
          structure: '1) Team Form (Last 5 games) â†’ 2) Tactical Matchup â†’ 3) Key Players to Watch â†’ 4) Head-to-Head Stats ï¿½ï¿½ 5) Final Prediction'
        },
        'Analysis': {
          tips: [
            'ğŸ‘¤ Detail the player\'s background and career timeline',
            'âš½ Break down their playing style and strengths',
            'ğŸ¯ Highlight weaknesses and areas for improvement',
            'ğŸ“ˆ Provide recent season statistics and performance metrics',
            'ğŸ’ª Compare to similar players in the position'
          ],
          caseStudy: 'Example: "Kylian MbappÃ© Analysis - At 24, MbappÃ© has scored 280+ career goals. His elite attributes: pace (97/99), acceleration (98), shot power (96), and positioning. Strengths: Dynamic dribbling, clinical finishing, leadership. Weaknesses: Occasional defensive commitment, consistency in big matches. 2023-24 stats: 44 goals in 48 games across competitions. Comparable players: Young Cristiano Ronaldo, Thierry Henry."',
          structure: '1) Career Overview â†’ 2) Physical/Technical Attributes â†’ 3) Strengths â†’ 4) Weaknesses â†’ 5) Season Statistics â†’ 6) Peer Comparison'
        },
        'Tactical': {
          tips: [
            'ğŸ“ Explain the formation and positioning',
            'ğŸ² Detail the passing patterns and movement principles',
            'ğŸ›¡ï¸ Analyze defensive structures and pressing triggers',
            'âš”ï¸ Show attacking build-up sequences',
            'ğŸ”„ Compare against alternative formations/strategies'
          ],
          caseStudy: 'Example: "High Press vs Low Block - Barcelona\'s high press (4-3-3) wins the ball 25 times per game in opponent\'s half through coordinated pressing. Central midfielders drop to block passing lanes while fullbacks press wingers. Success rate: 68% of possessions regained in high areas. Vs. Low Block (AtlÃ©tico Madrid 5-4-1): 11 players in defensive half, compact shape, counter-attacking. Trade-off: High press risks being exposed to through balls; low block sacrifices midfield control."',
          structure: '1) Formation Setup â†’ 2) Positioning Principles â†’ 3) Movement Patterns â†’ 4) Defensive Press/Blocks â†’ 5) Attacking Build-Up â†’ 6) Strengths/Weaknesses Comparison'
        },
        'Feature': {
          tips: [
            'ğŸ“š Research historical context and evolution',
            'ğŸŒŸ Include memorable moments and iconic players',
            'ğŸ“Š Support claims with statistics and records',
            'ğŸ¬ Create narrative around dramatic turning points',
            'ğŸ”— Connect to broader themes in football'
          ],
          caseStudy: 'Example: "Best Free Kick Takers - Zinedine Zidane (1994-2006): 30+ free kick goals, curved shots from 30+ yards. Ronaldinho (1997-2012): 35 free kick goals, unique spin techniques. Cristiano Ronaldo (2007-2023): 60+ free kick goals, consistency and precision with 94% conversion rate. Evolution: From Zidane\'s knuckleball physics to Ronaldo\'s topspin approach. Modern era: Leroy SanÃ©, Ãngel Di MarÃ­a."',
          structure: '1) Historical Context â†’ 2) Legendary Examples â†’ 3) Technical Evolution â†’ 4) Record Statistics â†’ 5) Modern Era Players'
        }
      };
      
      const guide = guidelines[article.type] || guidelines['Feature'];
      const questions = questionSets[article.type] || questionSets['Feature'];
      
      let guideHTML = `
        <div class="mb-6">
          <h4 class="font-bold mb-3 text-emerald-400">ğŸ“š Writing Guidelines for "${article.type}":</h4>
          
          <div class="mb-4 p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/30">
            <h5 class="font-semibold mb-2">Recommended Structure:</h5>
            <p class="text-sm text-gray-300">${guide.structure}</p>
          </div>
          
          <div class="mb-4 p-4 bg-amber-500/10 rounded-xl border border-amber-500/30">
            <h5 class="font-semibold mb-2">Key Elements to Include:</h5>
            <ul class="text-sm text-gray-300 space-y-1">
              ${guide.tips.map(tip => `<li class="flex gap-2"><span>${tip.substring(0, 2)}</span><span>${tip.substring(2)}</span></li>`).join('')}
            </ul>
          </div>
          
          <div class="mb-4 p-4 bg-violet-500/10 rounded-xl border border-violet-500/30">
            <h5 class="font-semibold mb-2">ğŸ’¡ Case Study Example:</h5>
            <p class="text-sm text-gray-300 italic">${guide.caseStudy}</p>
          </div>
          
          <div class="mb-4 p-4 bg-rose-500/10 rounded-xl border border-rose-500/30">
            <h5 class="font-semibold mb-2">ğŸ¯ Quality Standards:</h5>
            <ul class="text-sm text-gray-300 space-y-1">
              <li>âœ“ Use specific statistics, scores, and dates where possible</li>
              <li>âœ“ Include at least 2-3 concrete examples or case studies</li>
              <li>âœ“ Maintain objective tone while showing expertise</li>
              <li>âœ“ Ensure smooth transitions between paragraphs</li>
              <li>âœ“ Proofread for grammar and spelling</li>
            </ul>
          </div>
          
          <div class="p-4 bg-cyan-500/10 rounded-xl border border-cyan-500/30">
            <h5 class="font-semibold mb-3 text-cyan-400">â“ Main Questions to Address in Your Article:</h5>
            <div class="space-y-3">
              <div>
                <p class="text-sm font-semibold text-cyan-300 mb-1">PRIMARY QUESTION:</p>
                <p class="text-sm text-gray-300 italic">"${questions.mainQuestion}"</p>
              </div>
              <div>
                <p class="text-sm font-semibold text-cyan-300 mb-1">SUPPORTING QUESTION 1:</p>
                <p class="text-sm text-gray-300 italic">"${questions.followUp1}"</p>
              </div>
              <div>
                <p class="text-sm font-semibold text-cyan-300 mb-1">SUPPORTING QUESTION 2:</p>
                <p class="text-sm text-gray-300 italic">"${questions.followUp2}"</p>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.getElementById('articleTitle').textContent = article.title;
      document.getElementById('articleInstructions').innerHTML = guideHTML;
      document.getElementById('wordRequirement').textContent = `Required: ${article.wordCount} words`;
      document.getElementById('articleEditor').value = '';
      document.getElementById('wordCount').textContent = '0 words';
      
      showDashboardSection('articleEditor');
    }
    
    document.getElementById('articleEditor').addEventListener('input', function() {
      const words = this.value.trim().split(/\s+/).filter(w => w).length;
      const counter = document.getElementById('wordCount');
      counter.textContent = `${words} words`;
      
      const [min, max] = currentArticle.wordCount.split('-').map(Number);
      
      if (words < min) {
        counter.className = 'word-counter warning';
      } else if (words > max) {
        counter.className = 'word-counter error';
      } else {
        counter.className = 'word-counter success';
      }
    });
    
    async function submitArticle() {
      const content = document.getElementById('articleEditor').value.trim();
      const words = content.split(/\s+/).filter(w => w).length;
      const [min, max] = currentArticle.wordCount.split('-').map(Number);
      
      if (words < min) {
        showToast(`Article too short. Minimum ${min} words required.`, 'error');
        return;
      }
      
      if (words > max) {
        showToast(`Article too long. Maximum ${max} words allowed.`, 'error');
        return;
      }
      
      // Smart grading system
      let score = 0;
      let scoreDetails = [];
      
      // 1. Word count quality (20 points max)
      const wordRatio = words / ((min + max) / 2);
      if (wordRatio >= 0.9 && wordRatio <= 1.1) {
        score += 20;
        scoreDetails.push('âœ“ Excellent word count (20/20)');
      } else if (wordRatio >= 0.8 && wordRatio <= 1.2) {
        score += 15;
        scoreDetails.push('âœ“ Good word count (15/20)');
      } else {
        score += 10;
        scoreDetails.push('âœ“ Acceptable word count (10/20)');
      }
      
      // 2. Spelling & Grammar check (20 points max)
      const misspellings = (content.match(/\b[a-z]{1,2}\s+[a-z]{1,2}\b/gi) || []).length;
      const commonGrammarErrors = (content.match(/\s{2,}|\.\.|\s\./g) || []).length;
      
      if (misspellings === 0 && commonGrammarErrors === 0) {
        score += 20;
        scoreDetails.push('âœ“ Perfect grammar & spelling (20/20)');
      } else if (misspellings < 3 && commonGrammarErrors < 2) {
        score += 15;
        scoreDetails.push('âœ“ Good grammar & spelling (15/20)');
      } else if (misspellings < 5 && commonGrammarErrors < 4) {
        score += 10;
        scoreDetails.push('âœ“ Acceptable grammar (10/20)');
      } else {
        score += 5;
        scoreDetails.push('âš  Multiple grammar issues (5/20)');
      }
      
      // 3. Specific examples & case studies (20 points max)
      const examplePatterns = content.match(/example|for instance|such as|including|case study|instance|in (?:20\d\d|the \w+ season)/gi) || [];
      if (examplePatterns.length >= 5) {
        score += 20;
        scoreDetails.push('âœ“ Excellent use of examples (20/20)');
      } else if (examplePatterns.length >= 3) {
        score += 15;
        scoreDetails.push('âœ“ Good use of examples (15/20)');
      } else if (examplePatterns.length >= 1) {
        score += 10;
        scoreDetails.push('âœ“ Some examples included (10/20)');
      } else {
        score += 5;
        scoreDetails.push('âš  Limited examples (5/20)');
      }
      
      // 4. Statistics & Data (20 points max)
      const statsPatterns = content.match(/\d+%|\d+\/\d+|goals?|assists?|\d{1,3}\s+(?:games?|matches?|appearances)|record|statistic|average/gi) || [];
      if (statsPatterns.length >= 8) {
        score += 20;
        scoreDetails.push('âœ“ Excellent statistics (20/20)');
      } else if (statsPatterns.length >= 5) {
        score += 15;
        scoreDetails.push('âœ“ Good statistics (15/20)');
      } else if (statsPatterns.length >= 2) {
        score += 10;
        scoreDetails.push('âœ“ Some statistics (10/20)');
      } else {
        score += 5;
        scoreDetails.push('âš  Limited statistics (5/20)');
      }
      
      // 5. Analysis Depth (20 points max)
      const analysisWords = content.match(/why|because|therefore|analysis|explain|strategy|approach|tactical|reason|impact|effect|influence/gi) || [];
      if (analysisWords.length >= 15) {
        score += 20;
        scoreDetails.push('âœ“ Excellent analysis depth (20/20)');
      } else if (analysisWords.length >= 10) {
        score += 15;
        scoreDetails.push('âœ“ Good analysis (15/20)');
      } else if (analysisWords.length >= 5) {
        score += 10;
        scoreDetails.push('âœ“ Basic analysis (10/20)');
      } else {
        score += 5;
        scoreDetails.push('âš  Limited analysis (5/20)');
      }
      
      // Calculate final score percentage
      const scorePercentage = Math.round((score / 100) * 100);
      
      // Determine reward tier
      let rewardMultiplier = 0;
      let rewardMessage = '';
      
      if (scorePercentage >= 75) {
        rewardMultiplier = 1; // Full reward
        rewardMessage = 'ğŸŒŸ EXCELLENT! Full reward approved immediately!';
      } else if (scorePercentage >= 50) {
        rewardMultiplier = 0.5; // Half reward
        rewardMessage = 'ğŸ‘ GOOD! Half reward instant payment. Full review pending.';
      } else {
        rewardMessage = 'â³ Under Review. Needs improvement for instant payment.';
      }
      
      // Send to Web3Forms with scoring details
      const formData = new FormData();
      formData.append('access_key', 'ec37dec9-e0d1-495c-80d4-632e7c1f9ca3');
      formData.append('subject', `SportiveX Article: ${currentArticle.title} (Score: ${scorePercentage}%)`);
      formData.append('username', currentUser.username);
      formData.append('email', currentUser.email);
      formData.append('article_title', currentArticle.title);
      formData.append('word_count', words);
      formData.append('score_percentage', scorePercentage);
      formData.append('score_breakdown', scoreDetails.join(' | '));
      formData.append('reward_tier', scorePercentage >= 75 ? 'Full' : scorePercentage >= 50 ? 'Half' : 'Pending');
      formData.append('content', content);
      formData.append('type', 'article_submission_with_scoring');
      
      try {
        await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        });
      } catch (err) {
        console.error('Form submission error:', err);
      }
      
      // Calculate instant reward
      const instantReward = Math.round(currentArticle.points * rewardMultiplier);
      const status = scorePercentage >= 75 ? 'Approved' : scorePercentage >= 50 ? 'Half Approved' : 'Under Review';
      
      // Apply instant rewards
      if (instantReward > 0) {
        currentUser.points += instantReward;
      }
      
      if (scorePercentage < 75) {
        currentUser.pendingTasks++;
      }
      
      currentUser.submissions.push({
        type: 'article',
        title: currentArticle.title,
        wordCount: words,
        points: instantReward,
        maxPoints: currentArticle.points,
        scorePercentage: scorePercentage,
        scoreDetails: scoreDetails,
        status: status,
        content: content.substring(0, 200) + '...',
        date: new Date().toISOString()
      });
      
      saveToStorage('user', currentUser);
      updateDashboard();
      
      // Show detailed feedback modal
      const modal = document.createElement('div');
      modal.className = 'modal-overlay';
      modal.innerHTML = `
        <div class="glass-effect rounded-2xl p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
          <h2 class="font-orbitron text-2xl font-bold mb-4 text-emerald-400">Article Submission Result</h2>
          
          <div class="mb-6 p-4 ${scorePercentage >= 75 ? 'bg-emerald-500/20 border border-emerald-500' : scorePercentage >= 50 ? 'bg-amber-500/20 border border-amber-500' : 'bg-blue-500/20 border border-blue-500'} rounded-xl">
            <h3 class="text-3xl font-bold mb-2">${scorePercentage}%</h3>
            <p class="text-lg ${scorePercentage >= 75 ? 'text-emerald-400' : scorePercentage >= 50 ? 'text-amber-400' : 'text-blue-400'}">${rewardMessage}</p>
          </div>
          
          <div class="mb-6">
            <h4 class="font-bold mb-3 text-cyan-400">ğŸ“Š Scoring Breakdown:</h4>
            <div class="space-y-2">
              ${scoreDetails.map(detail => `<p class="text-sm text-gray-300">â€¢ ${detail}</p>`).join('')}
            </div>
          </div>
          
          <div class="mb-6 p-4 bg-white/10 rounded-xl">
            <h4 class="font-bold mb-2">ğŸ’° Reward Details:</h4>
            <div class="text-sm text-gray-300 space-y-1">
              <p>Base Reward: ${currentArticle.points} points (KSH ${currentArticle.points * 20})</p>
              <p>Your Score: ${scorePercentage}%</p>
              <p class="font-bold text-emerald-400 mt-2">Instant Reward: +${instantReward} points (KSH ${instantReward * 20})</p>
              ${scorePercentage < 75 ? `<p class="text-amber-400 text-xs mt-2">â³ Remaining ${currentArticle.points - instantReward} points pending full review</p>` : ''}
            </div>
          </div>
          
          ${scorePercentage < 75 ? `
            <div class="mb-6 p-4 bg-amber-500/20 border border-amber-500 rounded-xl">
              <h4 class="font-bold mb-2 text-amber-400">ğŸ“ Tips for improvement:</h4>
              <ul class="text-sm text-gray-300 space-y-1">
                ${scorePercentage < 50 && scoreDetails.some(d => d.includes('grammar')) ? '<li>â€¢ Review your grammar and spelling more carefully</li>' : ''}
                ${scorePercentage < 50 && scoreDetails.some(d => d.includes('examples')) ? '<li>â€¢ Include more specific examples and case studies</li>' : ''}
                ${scorePercentage < 50 && scoreDetails.some(d => d.includes('statistics')) ? '<li>â€¢ Add more statistics and data to support your claims</li>' : ''}
                ${scorePercentage < 50 && scoreDetails.some(d => d.includes('analysis')) ? '<li>â€¢ Deepen your analysis by explaining the why and impact</li>' : ''}
                <li>â€¢ Be specific with dates, scores, and player names</li>
                <li>â€¢ Provide at least 2-3 concrete examples per article</li>
              </ul>
            </div>
          ` : ''}
          
          <button onclick="this.closest('.modal-overlay').remove(); showDashboardSection('submissions')" class="btn-primary w-full py-4 rounded-xl font-bold">
            View My Submissions
          </button>
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.onclick = (e) => {
        if (e.target === modal) modal.remove();
      };
    }
    
    // ==================== VIDEO ANALYSIS ====================
    function renderVideosList() {
      // Check if user has active subscription
      const container = document.getElementById('videosList');
      const lockedContainer = document.getElementById('videosLocked');
      
      if (!currentUser.isSubscribed) {
        container.innerHTML = '';
        lockedContainer.classList.remove('hidden');
        return;
      }
      
      lockedContainer.classList.add('hidden');
      
      container.innerHTML = videoTasks.map(task => `
        <div class="${task.color} rounded-2xl p-6 task-card cursor-pointer" onclick="startVideoAnalysis(${task.id})">
          <div class="flex items-start justify-between mb-4">
            <span class="text-4xl">ğŸ¬</span>
            <span class="text-amber-300 font-bold">ğŸ† ${task.points} pts (KSH ${task.ksh})</span>
          </div>
          <h3 class="font-orbitron text-lg font-bold mb-2">${task.title}</h3>
          <p class="text-sm opacity-80">${task.description}</p>
        </div>
      `).join('');
    }
    
    function startVideoAnalysis(videoId) {
      const video = videoTasks.find(v => v.id === videoId);
      currentVideo = video;
      
      document.getElementById('videoTitle').textContent = video.title;
      document.getElementById('videoInstructions').innerHTML = `
        <h4 class="font-bold mb-2">Instructions:</h4>
        <p class="text-gray-300">${video.description}. Watch the video carefully and answer the questions below with detailed analysis.</p>
      `;
      
      document.getElementById('videoQuestions').innerHTML = `
        <div class="space-y-2">
          <label for="vq1" class="block font-semibold">1. What tactical pattern do you observe?</label>
          <textarea id="vq1" class="input-field w-full h-24 px-4 py-3 rounded-xl text-white resize-none" placeholder="Describe the tactical pattern..." maxlength="500"></textarea>
          <span class="text-xs text-gray-500">Max 500 characters</span>
        </div>
        <div class="space-y-2">
          <label for="vq2" class="block font-semibold">2. Identify the key players and their roles in this clip.</label>
          <textarea id="vq2" class="input-field w-full h-24 px-4 py-3 rounded-xl text-white resize-none" placeholder="Identify key players..." maxlength="500"></textarea>
          <span class="text-xs text-gray-500">Max 500 characters</span>
        </div>
        <div class="space-y-2">
          <label for="vq3" class="block font-semibold">3. What could be improved in this sequence?</label>
          <textarea id="vq3" class="input-field w-full h-24 px-4 py-3 rounded-xl text-white resize-none" placeholder="Suggest improvements..." maxlength="500"></textarea>
          <span class="text-xs text-gray-500">Max 500 characters</span>
        </div>
      `;
      
      showDashboardSection('videoAnalysis');
    }
    
    async function submitVideoAnalysis() {
      const q1 = document.getElementById('vq1').value.trim();
      const q2 = document.getElementById('vq2').value.trim();
      const q3 = document.getElementById('vq3').value.trim();
      
      if (!q1 || !q2 || !q3) {
        showToast('Please answer all questions.', 'error');
        return;
      }
      
      if (q1.length < 50 || q2.length < 50 || q3.length < 50) {
        showToast('Each answer must be at least 50 characters.', 'error');
        return;
      }
      
      // Send to Web3Forms
      const formData = new FormData();
      formData.append('access_key', 'ec37dec9-e0d1-495c-80d4-632e7c1f9ca3');
      formData.append('subject', `SportiveX Video Analysis: ${currentVideo.title}`);
      formData.append('username', currentUser.username);
      formData.append('email', currentUser.email);
      formData.append('video_title', currentVideo.title);
      formData.append('answer_1', q1);
      formData.append('answer_2', q2);
      formData.append('answer_3', q3);
      formData.append('type', 'video_analysis_submission');
      
      try {
        await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        });
      } catch (err) {
        console.error('Form submission error:', err);
      }
      
      currentUser.pendingTasks++;
      currentUser.submissions.push({
        type: 'video',
        title: currentVideo.title,
        points: currentVideo.points,
        status: 'Under Review',
        answers: [q1.substring(0, 100) + '...'],
        date: new Date().toISOString()
      });
      
      saveToStorage('user', currentUser);
      updateDashboard();
      
      showToast('Video analysis submitted successfully!');
      showDashboardSection('submissions');
    }
    
    // ==================== SUBMISSIONS ====================
    function renderSubmissionsList() {
      const container = document.getElementById('submissionsList');
      
      if (!currentUser.submissions || currentUser.submissions.length === 0) {
        container.innerHTML = '<p class="text-gray-400 text-center py-8">No submissions yet. Complete some tasks to see them here!</p>';
        return;
      }
      
      const statusColors = {
        'Submitted': 'border-amber-500 bg-amber-500/10',
        'Under Review': 'border-blue-500 bg-blue-500/10',
        'Approved': 'border-emerald-500 bg-emerald-500/10'
      };
      
      container.innerHTML = currentUser.submissions.map(sub => `
        <div class="glass-effect rounded-xl p-4 border-l-4 ${statusColors[sub.status] || statusColors['Submitted']}">
          <div class="flex items-start justify-between">
            <div class="flex items-start gap-4">
              <span class="text-2xl">${sub.type === 'trivia' ? 'ğŸ§ ' : sub.type === 'article' ? 'âœï¸' : 'ğŸ¬'}</span>
              <div>
                <h4 class="font-bold">${sub.title}</h4>
                <p class="text-sm text-gray-400">${sub.type === 'trivia' ? `Score: ${sub.score}` : sub.type === 'article' ? `${sub.wordCount} words` : 'Video Analysis'}</p>
                <span class="text-xs text-gray-500">${new Date(sub.date).toLocaleDateString()}</span>
              </div>
            </div>
            <div class="text-right">
              <span class="px-3 py-1 rounded-full text-xs font-semibold ${sub.status === 'Approved' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-amber-500/20 text-amber-400'}">${sub.status}</span>
              <p class="text-amber-400 font-bold mt-2">+${sub.points} pts</p>
            </div>
          </div>
        </div>
      `).join('');
    }
    
    // ==================== WALLET ====================
    function updateWallet() {
      document.getElementById('walletBalance').textContent = currentUser.points;
      const kshAmount = Math.round(currentUser.points * 50);
      document.getElementById('walletKSH').textContent = `KSH ${kshAmount.toLocaleString()}`;
      document.getElementById('availableWithdraw').textContent = currentUser.points;
    }
    
    // ==================== WITHDRAW ====================
    document.getElementById('withdrawForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const amount = parseInt(document.getElementById('withdrawAmount').value);
      const method = document.getElementById('withdrawMethod').value;
      const details = document.getElementById('withdrawDetails').value;
      
      if (amount < 100) {
        showToast('Minimum withdrawal is 100 points (KSH 5,000).', 'error');
        return;
      }
      
      if (amount > currentUser.points) {
        showToast('Insufficient balance.', 'error');
        return;
      }
      
      if (!details) {
        showToast('Please enter account details.', 'error');
        return;
      }
      
      // Calculate fees: 5% platform fee + 10% transaction fee = 15% total
      const amountInKsh = amount * 50;
      const totalFees = Math.round(amountInKsh * 0.15);
      const platformFee = Math.round(amountInKsh * 0.05);
      const transactionFee = Math.round(amountInKsh * 0.10);
      const netAmount = amountInKsh - totalFees;
      
      // Send to Web3Forms
      const formData = new FormData();
      formData.append('access_key', 'ec37dec9-e0d1-495c-80d4-632e7c1f9ca3');
      formData.append('subject', 'SportiveX Withdrawal Request');
      formData.append('username', currentUser.username);
      formData.append('email', currentUser.email);
      formData.append('amount_points', amount);
      formData.append('amount_ksh', amountInKsh);
      formData.append('platform_fee', platformFee);
      formData.append('transaction_fee', transactionFee);
      formData.append('total_fees', totalFees);
      formData.append('net_amount', netAmount);
      formData.append('method', method);
      formData.append('account_details', details);
      formData.append('type', 'withdrawal_request');
      
      try {
        await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        });
      } catch (err) {
        console.error('Form submission error:', err);
      }
      
      currentUser.points -= amount;
      currentUser.transactions.push({
        type: 'withdrawal',
        amountRequested: amount,
        amountInKsh: amountInKsh,
        platformFee: platformFee,
        transactionFee: transactionFee,
        totalFees: totalFees,
        netAmount: netAmount,
        method: method,
        status: 'Pending',
        date: new Date().toISOString()
      });
      
      saveToStorage('user', currentUser);
      updateDashboard();
      updateWallet();
      
      showToast(`Withdrawal request submitted! You'll receive KSH ${netAmount.toLocaleString()} after fees (24-48 hours).`);
      this.reset();
    });
    
    // ==================== SUBSCRIPTION & PAYMENT ====================
    function redirectToPayment() {
      // Open payment link in new tab
      window.open(paymentLink || 'https://lipana.dev/pay/joblify-account-verification ', '_blank', 'noopener,noreferrer');
      showToast('Opening M-Pesa payment gateway...');
    }
    
    function showMpesaVerification() {
      const modal = document.getElementById('mpesaVerificationModal');
      modal.classList.remove('hidden');
      
      // Set expected date to today
      const today = new Date();
      const dateStr = today.toLocaleDateString('en-KE', { year: 'numeric', month: 'long', day: 'numeric' });
      document.getElementById('expectedDate').textContent = dateStr;
    }
    
    function closeMpesaVerification() {
      document.getElementById('mpesaVerificationModal').classList.add('hidden');
    }
    
    function verifyMpesaPayment() {
      const message = document.getElementById('mpesaMessage').value.trim();
      
      if (!message) {
        showToast('Please paste your M-Pesa message.', 'error');
        return;
      }
      
      // Validate the M-Pesa message format
      const isValid = validateMpesaMessage(message);
      
      if (!isValid.valid) {
        showToast(isValid.error, 'error');
        return;
      }
      
      // Send verification to Web3Forms
      const formData = new FormData();
      formData.append('access_key', 'ec37dec9-e0d1-495c-80d4-632e7c1f9ca3');
      formData.append('subject', 'SportiveX M-Pesa Verification - Payment Confirmation');
      formData.append('username', currentUser.username);
      formData.append('email', currentUser.email);
      formData.append('mpesa_message', message);
      formData.append('subscription_fee', 458);
      formData.append('type', 'payment_verification');
      
      // Disable button while processing
      const btn = document.getElementById('verifyBtn');
      btn.disabled = true;
      btn.textContent = 'â³ Verifying...';
      
      fetch('https://api.web3forms.com/submit', {
        method: 'POST',
        body: formData
      }).then(() => {
        // Activate subscription
        currentUser.isSubscribed = true;
        currentUser.subscriptionStart = new Date().toISOString();
        currentUser.subscriptionExpiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();
        
        saveToStorage('user', currentUser);
        
        showToast('âœ… Payment verified! Premium access activated!');
        closeMpesaVerification();
        document.getElementById('mpesaMessage').value = '';
        btn.disabled = false;
        btn.textContent = 'âœ“ Verify Payment';
        
        updateDashboard();
      }).catch(err => {
        console.error('Verification error:', err);
        showToast('Verification sent. You\'ll receive confirmation via email.', 'success');
        closeMpesaVerification();
        document.getElementById('mpesaMessage').value = '';
        btn.disabled = false;
        btn.textContent = 'âœ“ Verify Payment';
        
        // Provisionally activate subscription pending manual verification
        currentUser.isSubscribed = true;
        currentUser.subscriptionStart = new Date().toISOString();
        currentUser.subscriptionExpiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();
        saveToStorage('user', currentUser);
        updateDashboard();
      });
    }
    
    function validateMpesaMessage(message) {
      // Convert to uppercase for checking
      const upperMsg = message.toUpperCase();
      
      // Check for confirmation keyword
      if (!upperMsg.includes('CONFIRMED') && !upperMsg.includes('RECEIVED')) {
        return { valid: false, error: 'âŒ Message must contain "CONFIRMED" or "RECEIVED"' };
      }
      
      // Check for correct amount (458 KSH)
      if (!message.includes('458')) {
        return { valid: false, error: 'âŒ Message must show KSH 458' };
      }
      
      // Check for M-Pesa indicator
      if (!upperMsg.includes('M-PESA') && !upperMsg.includes('MPESA')) {
        return { valid: false, error: 'âŒ This doesn\'t look like an M-Pesa message' };
      }
      
      // Check for Lipana indicator (could be "LIPA NA M-PESA" or "Lipana Technologies")
      const hasLipana = upperMsg.includes('LIPA') || upperMsg.includes('LIPANA') || upperMsg.includes('174379');
      if (!hasLipana) {
        return { valid: false, error: 'âŒ Message must be from Lipana Technologies (Business code: 174379)' };
      }
      
      // All checks passed
      return { valid: true };
    }
    
    // ==================== PROFILE ====================
    function updateProfile() {
      document.getElementById('profileUsername').textContent = currentUser.username;
      document.getElementById('profileEmail').textContent = currentUser.email;
      document.getElementById('profileLevel').textContent = currentUser.level;
      document.getElementById('profilePoints').textContent = currentUser.points;
      document.getElementById('profileBio').value = currentUser.bio || '';
      document.getElementById('profileTasksCompleted').textContent = currentUser.completedTasks;
      document.getElementById('profileMemberSince').textContent = new Date(currentUser.createdAt).toLocaleDateString();
    }
    
    document.getElementById('profileForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      currentUser.bio = document.getElementById('profileBio').value;
      saveToStorage('user', currentUser);
      
      showToast('Profile updated successfully!');
    });
    
    // ==================== FILTER FUNCTIONS ====================
    function filterTrivia(difficulty) {
      const btns = document.querySelectorAll('#triviaSection .flex button');
      btns.forEach(btn => {
        btn.className = 'px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm';
      });
      event.target.className = 'px-4 py-2 rounded-full bg-emerald-500/20 text-emerald-400 text-sm font-semibold';
      
      const container = document.getElementById('triviaList');
      const colors = ['card-emerald', 'card-amber', 'card-rose', 'card-violet', 'card-cyan', 'card-orange'];
      
      const filtered = difficulty === 'all' 
        ? triviaQuizzes 
        : triviaQuizzes.filter(q => q.difficulty === difficulty);
      
      container.innerHTML = filtered.map((quiz, i) => `
        <div class="${colors[i % 6]} rounded-2xl p-6 task-card cursor-pointer" onclick="startQuiz(${quiz.id})">
          <div class="flex items-start justify-between mb-4">
            <span class="text-4xl">${quiz.icon}</span>
            <span class="px-3 py-1 bg-white/20 rounded-full text-xs font-semibold uppercase">${quiz.difficulty}</span>
          </div>
          <h3 class="font-orbitron text-lg font-bold mb-2">${quiz.title}</h3>
          <p class="text-sm opacity-80 mb-4">${quiz.questions} Questions â€¢ ${quiz.category}</p>
          <div class="flex items-center justify-between">
            <span class="text-amber-300 font-bold">ğŸ† ${quiz.points} pts (KSH ${quiz.points * 20})</span>
            <span class="text-white/70 text-sm">~5 min</span>
          </div>
        </div>
      `).join('');
    }
    
    function filterSubmissions(status) {
      const btns = document.querySelectorAll('#submissionsSection .flex button');
      btns.forEach(btn => {
        btn.className = 'px-4 py-2 rounded-full bg-white/10 text-gray-300 text-sm';
      });
      event.target.className = 'px-4 py-2 rounded-full bg-emerald-500/20 text-emerald-400 text-sm font-semibold';
      
      renderSubmissionsList();
    }
    
    // ==================== INITIALIZATION ====================
    function init() {
      // Load theme preference
      const savedDarkMode = getFromStorage('darkMode');
      if (savedDarkMode !== null) {
        darkMode = savedDarkMode;
        document.body.classList.toggle('dark', darkMode);
        document.body.classList.toggle('light', !darkMode);
        document.body.style.backgroundColor = darkMode ? '#0a0f1a' : '#f8fafc';
        document.body.style.color = darkMode ? '#ffffff' : '#1e293b';
      }
      
      // Check for existing user session
      const savedUser = getFromStorage('user');
      if (savedUser) {
        currentUser = savedUser;
        showPage('dashboard');
      } else {
        showPage('landing');
      }
    }
    
    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c9d060ea5a79c05',t:'MTc3MDQwNTgyNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>